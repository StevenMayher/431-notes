[{"path":"index.html","id":"working-with-these-notes","chapter":"Working with These Notes","heading":"Working with These Notes","text":"document broken multiple chapters. Use table contents left side screen navigate chapters, use right side navigate within current chapter.can also search document, using automated index.code provided document can copied clipboard using Copy icon top right code block.document updated (unpredictably) throughout semester.","code":""},{"path":"index.html","id":"the-431-course-online","chapter":"Working with These Notes","heading":"The 431 Course online","text":"main web page 431 course Fall 2021 https://thomaselove.github.io/431/. Go information related course.","code":""},{"path":"index.html","id":"what-youll-find-here","chapter":"Working with These Notes","heading":"What You’ll Find Here","text":"Notes provide series examples using R work issues likely come PQHS/CRSP/MPHP 431. mostly find brief explanations key idea summary, accompanied (time) R code demonstration results applying code.Notes share features textbook, neither comprehensive completely original. main purpose give 431 students set common materials draw course. class, sometimes:reiterate points made document,amplify ,simplify presentation things done ,use new examples show techniques,refer issues mentioned document,don’t follow notes precisely. assume instead read materials try learn , just attend classes try learn . welcome feedback kinds document anything else.Everything see available HTML PDF. also access R Markdown files, contain code generates everything document, including R results. demonstrate use R Markdown (document generated additional help R package called bookdown) RStudio (“program” use interface R language) class.data R code related notes also available .","code":""},{"path":"index.html","id":"setting-up-r","chapter":"Working with These Notes","heading":"Setting Up R","text":"Notes make extensive use ofthe statistical software language R, andthe development environment R Studio,free, ’ll need install machine. Instructions found course syllabus.need even gentler introduction, ’re just new R RStudio need learn , encourage take look http://moderndive.com/, provides introduction statistical data sciences via R Chester Ismay Albert Y. Kim.1These notes written using R Markdown. R Markdown, like R R Studio, free open source.R Markdown described authoring framework data science, lets yousave execute R codegenerate high-quality reports can shared audienceThis description comes http://rmarkdown.rstudio.com/lesson-1.html can visit get overview quick tour ’s possible R Markdown.Another excellent resource learn R Markdown tools Communicate section (especially R Markdown chapter) Garrett Grolemund Hadley Wickham.2","code":""},{"path":"index.html","id":"initial-setup-of-r-packages","chapter":"Working with These Notes","heading":"Initial Setup of R Packages","text":"start, ’ll present series commands run (silently) beginning chapter Notes. particular commands set R use several packages (libraries) functions expand capabilities, make specific change want R output displayed (’s comment = NA piece) sets theme graphs build one called theme_bw(). chunk code like occur near top R Markdown work.deliberately set list loaded packages relatively small. need install package , need reload every time start new session.","code":"\nknitr::opts_chunk$set(comment = NA)\n\nlibrary(knitr)\nlibrary(magrittr)\nlibrary(janitor)\nlibrary(NHANES)\nlibrary(palmerpenguins)\nlibrary(patchwork)\nlibrary(rms)\nlibrary(mosaic)\nlibrary(Epi)\nlibrary(naniar)\nlibrary(broom) # note: tidymodels includes the broom package\nlibrary(tidyverse) # note: tidyverse includes the dplyr and ggplot2 packages\n\ntheme_set(theme_bw())"},{"path":"index.html","id":"the-love-boost.r-script","chapter":"Working with These Notes","heading":"The Love-boost.R script","text":"Starting October, ’ll make use scripts ’ve gathered . necessary, ’ll source code using following command…","code":"\nsource(\"data/Love-boost.R\")"},{"path":"index.html","id":"additional-r-packages-installed-for-this-book","chapter":"Working with These Notes","heading":"Additional R Packages installed for this book","text":"packages need installed user’s system, need loaded R order run code presented set notes later. additional packages include following.","code":"boot\ncar\nGGally\ngt\npsych\nmodelsummary\nvisdat"},{"path":"data-science.html","id":"data-science","chapter":"1 Data Science","heading":"1 Data Science","text":"definition data science can little slippery. One current view data science, exemplified Steven Geringer’s 2014 Venn diagram.\nFigure 1.1: Data Science Venn Diagram Steven Geringer\nfield encompasses ideas mathematics statistics computer science, heavy reliance subject-matter knowledge. case, includes clinical, health-related, medical biological knowledge.Andrew Gelman Deborah Nolan3 suggest, experience intuition necessary good statistical practice hard obtain, teaching data science provides excellent opportunity reinforce statistical thinking skills across full cycle data analysis project.principal form computer science (coding/programming) play role course provide form communication. ’ll need learn express ideas just orally writing, also code.Data Science team activity. Everyone working data science brings part necessary skillset, one person can cover three areas alone excellent projects.[individual truly expert three key areas (mathematics/statistics, computer science subject-matter knowledge) ] mythical beast magical powers ’s rumored exist never actually seen wild.http://www.kdnuggets.com/2016/10/battle-data-science-venn-diagrams.html","code":""},{"path":"data-science.html","id":"data-science-project-cycle","chapter":"1 Data Science","heading":"1.1 Data Science Project Cycle","text":"typical data science project can modeled follows, comes introduction amazing book R Data Science, Garrett Grolemund Hadley Wickham, key text course.4\nFigure 1.2: Source: R Data Science: Introduction\ndiagram sometimes referred Krebs Cycle Data Science. steps data science project, encourage read Introduction Grolemund Wickham.5","code":""},{"path":"data-science.html","id":"data-science-and-the-431-course","chapter":"1 Data Science","heading":"1.2 Data Science and the 431 Course","text":"’ll discuss elements 431 course, focusing start understanding data transformation, modeling (especially early stages) visualization. 431, learn get things done.get people working R R Studio R Markdown, even completely new coding. gentle introduction provided Ismay Kim6We learn use tidyverse (http://www.tidyverse.org/), array tools R (mostly developed Hadley Wickham colleagues R Studio) share underlying philosophy make data science faster, easier, reproducible fun. critical text understanding tidyverse Grolemund Wickham.7 Tidyverse tools facilitate:\nimporting data R, can source intense pain things, really quite easy 95% time right tool.\ntidying data, , storing format includes one row per observation one column per variable. harder, important, might think.\ntransforming data, perhaps identifying specific subgroups interest, creating new variables based existing ones, calculating summaries.\nvisualizing data generate actual knowledge identify questions data - area R really shines, ’ll start class.\nmodeling data, taking approach modeling complementary visualization, allows us answer questions visualization helps us identify.\nlast, definitely least, communicating results, models visualizations others, way reproducible effective.\nimporting data R, can source intense pain things, really quite easy 95% time right tool.tidying data, , storing format includes one row per observation one column per variable. harder, important, might think.transforming data, perhaps identifying specific subgroups interest, creating new variables based existing ones, calculating summaries.visualizing data generate actual knowledge identify questions data - area R really shines, ’ll start class.modeling data, taking approach modeling complementary visualization, allows us answer questions visualization helps us identify.last, definitely least, communicating results, models visualizations others, way reproducible effective.programming/coding inevitable requirement accomplish aims. leery coding, ’ll need get past , help course stellar teaching assistants. Getting started always challenging part, experience pain developing new skills evaporates early October.","code":""},{"path":"data-science.html","id":"what-the-course-is-and-isnt","chapter":"1 Data Science","heading":"1.3 What The Course Is and Isn’t","text":"431 course getting things done. developing course, adopt modern approach places data center work. goal teach truly reproducible research modern tools. want able collect use data effectively address questions interest.curriculum includes several topics might expect standard graduate introduction biostatistics.data gatheringdata wranglingexploratory data analysis visualizationmultivariate modelingcommunicationIt also nearly completely avoids formalism extremely applied - absolutely course theoretical mathematical statistics, Notes reflect approach.’s little mathematical underpinnings :\\[\nf(x) = \\frac{e^{-(x - \\mu)^{2}/(2\\sigma^{2})}}{\\sigma{\\sqrt{2 \\pi }}} \n\\]Instead, notes (course) focus get R things want , interpret results work. next Chapter provides first example.","code":""},{"path":"looking-at-the-palmer-penguins.html","id":"looking-at-the-palmer-penguins","chapter":"2 Looking at the Palmer Penguins","heading":"2 Looking at the Palmer Penguins","text":"data palmerpenguins package R include size measurements, clutch observations, blood isotope ratios adult foraging Adélie, Chinstrap, Gentoo penguins observed islands Palmer Archipelago near Palmer Station, Antarctica. data collected made available Dr. Kristen Gorman Palmer Station Long Term Ecological Research (LTER) Program.palmerpenguins package, visit https://allisonhorst.github.io/palmerpenguins/.","code":""},{"path":"looking-at-the-palmer-penguins.html","id":"package-loading-then-dealing-with-missing-data","chapter":"2 Looking at the Palmer Penguins","heading":"2.1 Package Loading, then Dealing with Missing Data","text":"start, let’s load necessary R packages manage data summarize small table, plot. ’ve actually done previously, ’ll repeat steps , ’s worth seeing R .case, ’ll load five packages.’s worth remembering everything # line just comment reader, ignored R. ’ll see later loading single package (called tidyverse) gives us dplyr ggplot2 packages, well several useful things.Next, let’s take penguins data palmerpenguins package, identify observations complete data (, missing values) four variables interest. ’ll store result new data frame (think data set) called new_penguins take look result using following code.","code":"\nlibrary(palmerpenguins)  # source for the data set\nlibrary(janitor)         # some utilities for cleanup and simple tables\nlibrary(magrittr)        # provides us with the pipe %>% for code management\nlibrary(dplyr)           # part of the tidyverse: data management tools\nlibrary(ggplot2)         # part of the tidyverse: tools for plotting data\nnew_penguins <- penguins %>%\n    filter(complete.cases(flipper_length_mm, body_mass_g, species, sex))\n\nnew_penguins# A tibble: 333 x 8\n   species island    bill_length_mm bill_depth_mm\n   <fct>   <fct>              <dbl>         <dbl>\n 1 Adelie  Torgersen           39.1          18.7\n 2 Adelie  Torgersen           39.5          17.4\n 3 Adelie  Torgersen           40.3          18  \n 4 Adelie  Torgersen           36.7          19.3\n 5 Adelie  Torgersen           39.3          20.6\n 6 Adelie  Torgersen           38.9          17.8\n 7 Adelie  Torgersen           39.2          19.6\n 8 Adelie  Torgersen           41.1          17.6\n 9 Adelie  Torgersen           38.6          21.2\n10 Adelie  Torgersen           34.6          21.1\n# ... with 323 more rows, and 4 more variables:\n#   flipper_length_mm <int>, body_mass_g <int>, sex <fct>,\n#   year <int>"},{"path":"looking-at-the-palmer-penguins.html","id":"counting-things-and-making-tables","chapter":"2 Looking at the Palmer Penguins","heading":"2.2 Counting Things and Making Tables","text":", many penguins new_penguins data? printed result, got answer, (many things R) many ways get result.new_penguins data break sex species?Note strange spelling tabyl . output reasonably clear, make table little prettier, ’re , can add row column totals ?","code":"\nnrow(new_penguins)[1] 333\nnew_penguins %>% \n    tabyl(sex, species) # tabyl comes from the janitor package    sex Adelie Chinstrap Gentoo\n female     73        34     58\n   male     73        34     61\nnew_penguins %>% \n    tabyl(sex, species) %>%\n    adorn_totals(where = c(\"row\", \"col\")) %>% # add row, column totals\n    kable  # one convenient way to make the table prettier"},{"path":"looking-at-the-palmer-penguins.html","id":"visualizing-the-data-in-a-graph-or-a-few","chapter":"2 Looking at the Palmer Penguins","heading":"2.3 Visualizing the Data in a Graph (or a few…)","text":"Now, let’s look two variables interest. Let’s create graph showing association body mass flipper length across complete set 333 penguins.may want include straight-line model (fit classical linear regression) plot. One way R involves addition single line code, like :Whenever build graph , default choices may sufficient. ’d like see prettier version going show someone else. , might use different color species, might neaten theme (get rid default grey background) add title, like .","code":"\nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm)) +\n    geom_point() \nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm)) +\n    geom_point() +\n    geom_smooth(method = \"lm\", formula = y ~ x,\n                col = \"red\", se = FALSE)\nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm, col = species)) +\n    geom_point() + \n    theme_bw() + \n    labs(title = \"Flipper Length and Body Mass for 333 of the Palmer Penguins\")"},{"path":"looking-at-the-palmer-penguins.html","id":"six-ways-to-improve-this-graph","chapter":"2 Looking at the Palmer Penguins","heading":"2.4 Six Ways To “Improve” This Graph","text":"Now, let’s build new graph. , want :plot relationship body mass flipper length light Sex Speciesincrease size points add little transparency can see points overlap,add smooth curves summarize relationships two quantities (body mass flipper length) within combination species sex,split graph two “facets” (one sex),improve axis labels,improve titles adding subtitle, also adding code count penguins (rather hard-coding total number.)","code":"\nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm, \n                         col = species)) +\n    geom_point(size = 2, alpha = 0.5) + \n    geom_smooth(method = \"loess\", formula = y ~ x, \n                se = FALSE, size = 1.5) +\n    facet_grid(~ sex) +\n    theme_bw() + \n    labs(title = \"Flipper Length and Body Mass, by Sex & Species\",\n         subtitle = paste0(nrow(new_penguins), \" of the Palmer Penguins\"),\n         x = \"Body Mass (g)\", \n         y = \"Flipper Length (mm)\")"},{"path":"looking-at-the-palmer-penguins.html","id":"a-little-reflection","chapter":"2 Looking at the Palmer Penguins","heading":"2.5 A Little Reflection","text":"can learn plots construction? particular,plots suggest center distribution quantity (body mass flipper length) overall, within combination Sex Species?final plot suggest spread distribution quantities combination Sex Species?plots suggest association body mass flipper length across complete set penguins?shape nature body mass - flipper length relationship change based Sex Species?think helpful plot straight-line relationship (rather smooth curve) within combination Sex Species final plot? ? (Also, code accomplish ?)R code plot revised accomplish six “wants” specified ?","code":""},{"path":"nhanes1.html","id":"nhanes1","chapter":"3 NHANES: Initial Exploring","heading":"3 NHANES: Initial Exploring","text":"Next, ’ll explore data US National Health Nutrition Examination Survey, NHANES.’ll display R code go, ’ll return key coding ideas involved later Notes.","code":""},{"path":"nhanes1.html","id":"the-nhanes-data-a-first-sample","chapter":"3 NHANES: Initial Exploring","heading":"3.1 The NHANES data: A First Sample","text":"NHANES package provides sample 10,000 NHANES responses 2009-10 2011-12 administrations, data frame also called NHANES. can obtain dimensions data frame (think rectangle data) dim() function.see 10000 rows 76 columns NHANES data frame.moment, let’s gather random sample 1,000 responses 10000 rows listed NHANES data frame, look three variables (labeled Gender, Age Height) describe subjects8. motivation example came Figure Benjamin S. Baumer, Daniel T. Kaplan, Nicholas J. Horton.9We 1000 rows (observations) 5 columns (variables) describe responses listed rows.","code":"\ndim(NHANES)[1] 10000    76\n# library(NHANES) # already loaded NHANES package/library of functions, data\n\nset.seed(431001) \n# use set.seed to ensure that we all get the same random sample \n# of 1,000 NHANES subjects in our nh_1 collection\n\nnh_1 <- \n    slice_sample(NHANES, n = 1000, replace = FALSE) %>%\n    select(ID, SurveyYr, Gender, Age, Height)\n\nnh_1# A tibble: 1,000 x 5\n      ID SurveyYr Gender   Age Height\n   <int> <fct>    <fct>  <int>  <dbl>\n 1 69638 2011_12  female     5   106.\n 2 70782 2011_12  male      64   176.\n 3 52408 2009_10  female    54   162.\n 4 59031 2009_10  female    15   155.\n 5 64530 2011_12  male      53   185.\n 6 71040 2011_12  male      63   169.\n 7 55186 2009_10  female    30   168.\n 8 60211 2009_10  male       5   103.\n 9 55730 2009_10  male      66   161.\n10 68229 2011_12  female    36   170.\n# ... with 990 more rows"},{"path":"nhanes1.html","id":"a-quick-numerical-summary","chapter":"3 NHANES: Initial Exploring","heading":"3.2 A Quick Numerical Summary","text":"two variables R recognizes describing categories, SurveyYr Gender, numeric summary provides small table counts. Age Height variables, see minimum, mean, maximum summary statistics.","code":"\nsummary(nh_1)       ID           SurveyYr      Gender         Age       \n Min.   :51624   2009_10:512   female:504   Min.   : 0.00  \n 1st Qu.:57011   2011_12:488   male  :496   1st Qu.:18.00  \n Median :61979                              Median :36.00  \n Mean   :61903                              Mean   :37.42  \n 3rd Qu.:67178                              3rd Qu.:56.00  \n Max.   :71875                              Max.   :80.00  \n                                                           \n     Height     \n Min.   : 85.0  \n 1st Qu.:156.2  \n Median :165.0  \n Mean   :162.3  \n 3rd Qu.:174.5  \n Max.   :195.9  \n NA's   :37     "},{"path":"nhanes1.html","id":"plotting-age-vs.-height","chapter":"3 NHANES: Initial Exploring","heading":"3.3 Plotting Age vs. Height","text":"Suppose want visualize relationship Height Age 1,000 NHANES observations. best choice likely scatterplot.note several interesting results .warning, R tells us “Removed 37 rows containing missing values (geom_point).” 963 subjects plotted , remaining 37 people missing (NA) values either Height, Age .Unsurprisingly, measured Heights subjects grow Age 0 Age 20 , see typical Height increases rapidly across Ages. middle distribution later Ages pretty consistent Height somewhere 150 175. units aren’t specified, expect must centimeters. Ages clearly reported Years.Age reported 80, appears large cluster Ages 80. may due requirement Ages 80 reported 80 help mask identity individuals.10As case, ’re going build visualizations using tools ggplot2 package, part tidyverse series packages. ’ll see similar coding structures throughout Chapter, covered well Chapter 3 Grolemund Wickham.11","code":"\nggplot(data = nh_1, aes(x = Age, y = Height)) +\n    geom_point()Warning: Removed 37 rows containing missing values\n(geom_point)."},{"path":"nhanes1.html","id":"restriction-to-complete-cases","chapter":"3 NHANES: Initial Exploring","heading":"3.4 Restriction to Complete Cases","text":"move , let’s manipulate data frame bit, focus subjects complete data Age Height. help us avoid warning message.Note units explanations variables contained NHANES help file, available via typing ?NHANES Console R Studio, typing NHANES Search bar R Studio’s Help window.","code":"\nnh_1cc <- nh_1 %>%\n    filter(complete.cases(Age, Height)) \n\nsummary(nh_1cc)       ID           SurveyYr      Gender         Age       \n Min.   :51624   2009_10:487   female:484   Min.   : 2.00  \n 1st Qu.:57034   2011_12:476   male  :479   1st Qu.:19.00  \n Median :62056                              Median :37.00  \n Mean   :61967                              Mean   :38.29  \n 3rd Qu.:67269                              3rd Qu.:56.00  \n Max.   :71875                              Max.   :80.00  \n     Height     \n Min.   : 85.0  \n 1st Qu.:156.2  \n Median :165.0  \n Mean   :162.3  \n 3rd Qu.:174.5  \n Max.   :195.9  "},{"path":"nhanes1.html","id":"the-distinction-between-gender-and-sex","chapter":"3 NHANES: Initial Exploring","heading":"3.5 The Distinction between Gender and Sex","text":"Gender variable mis-named. data refer biological status subjects, Sex, social construct Gender can quite different. effort avoid confusion, ’ll rename variable Gender Sex accurately describe actually measured ., can use approach…’s better. many observations now? use dim find number rows columns new data frame., simply list data frame read result.","code":"\nnh_1cc <- nh_1 %>%\n    rename(Sex = Gender) %>%\n    filter(complete.cases(Age, Height)) \n\nsummary(nh_1cc)       ID           SurveyYr       Sex           Age       \n Min.   :51624   2009_10:487   female:484   Min.   : 2.00  \n 1st Qu.:57034   2011_12:476   male  :479   1st Qu.:19.00  \n Median :62056                              Median :37.00  \n Mean   :61967                              Mean   :38.29  \n 3rd Qu.:67269                              3rd Qu.:56.00  \n Max.   :71875                              Max.   :80.00  \n     Height     \n Min.   : 85.0  \n 1st Qu.:156.2  \n Median :165.0  \n Mean   :162.3  \n 3rd Qu.:174.5  \n Max.   :195.9  \ndim(nh_1cc)[1] 963   5\nnh_1cc# A tibble: 963 x 5\n      ID SurveyYr Sex      Age Height\n   <int> <fct>    <fct>  <int>  <dbl>\n 1 69638 2011_12  female     5   106.\n 2 70782 2011_12  male      64   176.\n 3 52408 2009_10  female    54   162.\n 4 59031 2009_10  female    15   155.\n 5 64530 2011_12  male      53   185.\n 6 71040 2011_12  male      63   169.\n 7 55186 2009_10  female    30   168.\n 8 60211 2009_10  male       5   103.\n 9 55730 2009_10  male      66   161.\n10 68229 2011_12  female    36   170.\n# ... with 953 more rows"},{"path":"nhanes1.html","id":"age-height-by-sex","chapter":"3 NHANES: Initial Exploring","heading":"3.6 Age-Height by Sex?","text":"Let’s add Sex plot using color, also adjust y axis label incorporate units measurement.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() +\n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\")"},{"path":"nhanes1.html","id":"can-we-show-the-female-and-male-relationships-in-separate-panels","chapter":"3 NHANES: Initial Exploring","heading":"3.6.1 Can we show the Female and Male relationships in separate panels?","text":"Sure.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() + \n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\") +\n    facet_wrap(~ Sex)"},{"path":"nhanes1.html","id":"can-we-add-a-smooth-curve-to-show-the-relationship-in-each-plot","chapter":"3 NHANES: Initial Exploring","heading":"3.6.2 Can we add a smooth curve to show the relationship in each plot?","text":"Yes, adding call geom_smooth() function.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() + \n    geom_smooth(method = \"loess\", formula = y ~ x) +\n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\") +\n    facet_wrap(~ Sex)"},{"path":"nhanes1.html","id":"what-if-we-want-to-assume-straight-line-relationships","chapter":"3 NHANES: Initial Exploring","heading":"3.6.3 What if we want to assume straight line relationships?","text":"look linear model part plot instead. make sense ?seems like complex relationship Height Age isn’t well described straight line model.Next, ’ll select new sample NHANES respondents bit carefully, introduce new ways thinking data variables, ’ll study subjects greater detail.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() + \n    geom_smooth(method = \"lm\", formula = y ~ x) +\n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\") +\n    facet_wrap(~ Sex)"},{"path":"data-structures-and-types-of-variables.html","id":"data-structures-and-types-of-variables","chapter":"4 Data Structures and Types of Variables","heading":"4 Data Structures and Types of Variables","text":"","code":""},{"path":"data-structures-and-types-of-variables.html","id":"data-require-structure-and-context","chapter":"4 Data Structures and Types of Variables","heading":"4.1 Data require structure and context","text":"Descriptive statistics concerned presentation, organization summary data, suggested Geoffrey R. Norman David L. Streiner.12 includes various methods organizing graphing data get idea data can tell us.Eric Vittinghoff et al.13 suggest, nature measurement determines best describe statistically, main distinction numerical categorical variables. Even little tricky - plenty data can values look like numerical values, just numerals serving labels.David E. Bock, Paul F. Velleman, Richard D. De Veaux14 point , truly critical notion, course, data values, matter kind, useless without contexts. Five W’s (, [units], , , , often ) just useful establishing context data journalism. can’t answer , particular, don’t useful information.general, row data frame corresponds individual (respondent, experimental unit, record, observation) characteristics gathered columns (characteristics may called variables, factors data elements.) Every column / variable name indicates measuring, every row / observation name indicates measured.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"newNHANES","chapter":"4 Data Structures and Types of Variables","heading":"4.2 Sampling Adults in NHANES","text":"Chapter 3, spent time sample National Health Nutrition Examination. Now, changing value set.seed function determines starting place random sampling, changing specifications, ’ll generate new sample describing 750 unique (distinct) adult subjects completed 2011-12 version survey ages 21 64.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"creating-a-temporary-cleaner-data-frame","chapter":"4 Data Structures and Types of Variables","heading":"4.2.1 Creating a Temporary, Cleaner Data Frame","text":"’ll start describing plan use create new data frame called nh_temp eventually build final sample. particular, let lay steps use create nh_temp frame original NHANES data frame available R package called NHANES.’ll filter original NHANES data frame include responses 2011-12 administration survey. cut sample half, 10,000 rows 5,000.’ll filter original NHANES data frame include responses 2011-12 administration survey. cut sample half, 10,000 rows 5,000.’ll filter restrict sample adults whose age least 21 also less 65. ’ll want avoid problems including children adults sample, also want focus population people US usually covered private insurance job, Medicaid insurance government, rather covered Medicare.’ll filter restrict sample adults whose age least 21 also less 65. ’ll want avoid problems including children adults sample, also want focus population people US usually covered private insurance job, Medicaid insurance government, rather covered Medicare.discussed previously, listed NHANES data frame Gender correctly referred Sex. Sex biological feature individual, Gender social construct. important distinction, ’ll change name variable.discussed previously, listed NHANES data frame Gender correctly referred Sex. Sex biological feature individual, Gender social construct. important distinction, ’ll change name variable.’ll also rename three variables, specifically ’ll use Race describe Race3 variable original NHANES data frame, well SBP refer average systolic blood pressure, specified BPSysAve, DBP refer average diastolic blood pressure, specified BPDiaAve.’ll also rename three variables, specifically ’ll use Race describe Race3 variable original NHANES data frame, well SBP refer average systolic blood pressure, specified BPSysAve, DBP refer average diastolic blood pressure, specified BPDiaAve.accomplished previous four steps, ’ll select variables want keep sample. (use select choosing variables columns data frame, filter selecting subjects rows.) sixteen variables select : ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, Pulse, PhysActive, Smoke100, SleepTrouble, MaritalStatus HealthGen.accomplished previous four steps, ’ll select variables want keep sample. (use select choosing variables columns data frame, filter selecting subjects rows.) sixteen variables select : ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, Pulse, PhysActive, Smoke100, SleepTrouble, MaritalStatus HealthGen.original NHANES data frame includes subjects (rows) multiple times effort incorporate sampling weights used NHANES analyses. purposes, though, ’d like include subject one time. use distinct() function limit data frame completely unique subjects (, example, don’t wind two rows ID number.)original NHANES data frame includes subjects (rows) multiple times effort incorporate sampling weights used NHANES analyses. purposes, though, ’d like include subject one time. use distinct() function limit data frame completely unique subjects (, example, don’t wind two rows ID number.)code used complete six steps listed create nh_temp data frame.resulting nh_temp data frame 1700 rows 16 columns.","code":"\nnh_temp <- NHANES %>%\n    filter(SurveyYr == \"2011_12\") %>%\n    filter(Age >= 21 & Age < 65) %>%\n    rename(Sex = Gender, Race = Race3, SBP = BPSysAve, DBP = BPDiaAve) %>%\n    select(ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, \n           Pulse, PhysActive, Smoke100, SleepTrouble, \n           MaritalStatus, HealthGen) %>%\n   distinct()\nnh_temp# A tibble: 1,700 x 16\n      ID Sex      Age Height Weight Race     Education   BMI\n   <int> <fct>  <int>  <dbl>  <dbl> <fct>    <fct>     <dbl>\n 1 62172 female    43   172    98.6 Black    High Sch~  33.3\n 2 62176 female    34   172.   68.7 White    College ~  23.3\n 3 62180 male      35   179.   89   White    College ~  27.9\n 4 62199 male      57   186    96.9 White    College ~  28  \n 5 62205 male      28   171.   84.8 White    College ~  28.9\n 6 62206 female    35   167.   81.5 White    Some Col~  29.1\n 7 62208 male      38   169.   63.2 Hispanic Some Col~  22.2\n 8 62209 female    62   143.   53.5 Mexican  8th Grade  26  \n 9 62220 female    31   167.  113.  Black    College ~  40.4\n10 62222 male      32   179    80.1 White    College ~  25  \n# ... with 1,690 more rows, and 8 more variables:\n#   SBP <int>, DBP <int>, Pulse <int>, PhysActive <fct>,\n#   Smoke100 <fct>, SleepTrouble <fct>,\n#   MaritalStatus <fct>, HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"sampling-nh_temp-to-obtain-our-nh_adult750-sample","chapter":"4 Data Structures and Types of Variables","heading":"4.2.2 Sampling nh_temp to obtain our nh_adult750 sample","text":"established nh_temp sampling frame, now select random sample 750 adults 1700 available responses.use set.seed() function R set random numerical seed ensure redo work, obtain sample.\nSetting seed important part able replicate work later sampling involved.\nSetting seed important part able replicate work later sampling involved.use slice_sample() function actually draw random sample, without replacement.\n“Without replacement” means ’ve selected particular subject, won’t select .\n“Without replacement” means ’ve selected particular subject, won’t select .nh_adult750 data frame now includes 750 rows (observations) 16 variables (columns). Essentially, 16 pieces information 750 adult NHANES subjects included 2011-12 panel.","code":"\nset.seed(431002) \n# use set.seed to ensure that we all get the same random sample \n\nnh_adult750 <- slice_sample(nh_temp, n = 750, replace = F) \n\nnh_adult750# A tibble: 750 x 16\n      ID Sex      Age Height Weight Race     Education   BMI\n   <int> <fct>  <int>  <dbl>  <dbl> <fct>    <fct>     <dbl>\n 1 68648 female    30   181.   67.1 White    College ~  20.4\n 2 67200 male      30   180.   86.6 White    College ~  26.7\n 3 66404 female    35   160.   71.1 White    College ~  27.8\n 4 70535 male      40   177.   82   White    College ~  26.3\n 5 65308 female    54   151.   60.6 Mexican  8th Grade  26.6\n 6 67392 male      41   171.   90.7 Hispanic College ~  31.2\n 7 63218 male      35   163.   81   Mexican  8th Grade  30.3\n 8 65879 female    32   160.   66.4 Mexican  College ~  25.9\n 9 63617 male      29   189.   83.3 White    College ~  23.2\n10 64720 male      29   174.   62.3 Black    College ~  20.6\n# ... with 740 more rows, and 8 more variables: SBP <int>,\n#   DBP <int>, Pulse <int>, PhysActive <fct>,\n#   Smoke100 <fct>, SleepTrouble <fct>,\n#   MaritalStatus <fct>, HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"summarizing-the-datas-structure","chapter":"4 Data Structures and Types of Variables","heading":"4.2.3 Summarizing the Data’s Structure","text":"can identify number rows columns data frame tibble dim function.str function provides lot information structure data frame tibble.see first observations, use head, see last , try tail…","code":"\ndim(nh_adult750)[1] 750  16\nstr(nh_adult750)tibble [750 x 16] (S3: tbl_df/tbl/data.frame)\n $ ID           : int [1:750] 68648 67200 66404 70535 65308 67392 63218 65879 63617 64720 ...\n $ Sex          : Factor w/ 2 levels \"female\",\"male\": 1 2 1 2 1 2 2 1 2 2 ...\n $ Age          : int [1:750] 30 30 35 40 54 41 35 32 29 29 ...\n $ Height       : num [1:750] 181 180 160 177 151 ...\n $ Weight       : num [1:750] 67.1 86.6 71.1 82 60.6 90.7 81 66.4 83.3 62.3 ...\n $ Race         : Factor w/ 6 levels \"Asian\",\"Black\",..: 5 5 5 5 4 3 4 4 5 2 ...\n $ Education    : Factor w/ 5 levels \"8th Grade\",\"9 - 11th Grade\",..: 5 5 5 5 1 5 1 5 5 5 ...\n $ BMI          : num [1:750] 20.4 26.7 27.8 26.3 26.6 31.2 30.3 25.9 23.2 20.6 ...\n $ SBP          : int [1:750] 103 113 116 130 130 124 128 104 105 127 ...\n $ DBP          : int [1:750] 59 68 80 79 64 82 96 70 72 60 ...\n $ Pulse        : int [1:750] 78 70 68 68 48 68 82 78 76 84 ...\n $ PhysActive   : Factor w/ 2 levels \"No\",\"Yes\": 1 2 2 1 1 2 1 2 2 2 ...\n $ Smoke100     : Factor w/ 2 levels \"No\",\"Yes\": 1 2 1 2 2 1 2 1 2 2 ...\n $ SleepTrouble : Factor w/ 2 levels \"No\",\"Yes\": 2 1 1 1 1 1 1 1 2 1 ...\n $ MaritalStatus: Factor w/ 6 levels \"Divorced\",\"LivePartner\",..: 3 4 3 3 2 3 3 3 3 2 ...\n $ HealthGen    : Factor w/ 5 levels \"Excellent\",\"Vgood\",..: 1 1 1 2 4 3 NA 1 2 4 ...\ntail(nh_adult750, 5) # shows the last five observations in the data set# A tibble: 5 x 16\n     ID Sex      Age Height Weight Race  Education      BMI\n  <int> <fct>  <int>  <dbl>  <dbl> <fct> <fct>        <dbl>\n1 63924 female    29   165.  113.  Black High School   41.9\n2 69825 female    43   164.   63.3 White College Grad  23.7\n3 68109 male      45   170.   78.7 Black High School   27.1\n4 64598 female    60   158    74.5 White Some College  29.8\n5 64048 female    54   161.   67.5 White Some College  26.2\n# ... with 8 more variables: SBP <int>, DBP <int>,\n#   Pulse <int>, PhysActive <fct>, Smoke100 <fct>,\n#   SleepTrouble <fct>, MaritalStatus <fct>,\n#   HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"what-are-the-variables","chapter":"4 Data Structures and Types of Variables","heading":"4.2.4 What are the variables?","text":"can use glimpse function get short preview data.variables collected described brief table below15.levels multi-categorical variables :Race: Mexican, Hispanic, White, Black, Asian, .Education: 8th Grade, 9 - 11th Grade, High School, College, College Grad.MaritalStatus: Married, Widowed, Divorced, Separated, NeverMarried LivePartner (living partner).HealthGen: Excellent, Vgood, Good, Fair Poor.details can obtained using summary function.Note appearance NA's (indicating missing values) columns, variables summarized list (categorical) values (counts) (quantitative/numeric) variables summarized minimum, quartiles means.","code":"\nglimpse(nh_adult750)Rows: 750\nColumns: 16\n$ ID            <int> 68648, 67200, 66404, 70535, 65308, 6~\n$ Sex           <fct> female, male, female, male, female, ~\n$ Age           <int> 30, 30, 35, 40, 54, 41, 35, 32, 29, ~\n$ Height        <dbl> 181.3, 180.2, 159.8, 176.6, 150.9, 1~\n$ Weight        <dbl> 67.1, 86.6, 71.1, 82.0, 60.6, 90.7, ~\n$ Race          <fct> White, White, White, White, Mexican,~\n$ Education     <fct> College Grad, College Grad, College ~\n$ BMI           <dbl> 20.4, 26.7, 27.8, 26.3, 26.6, 31.2, ~\n$ SBP           <int> 103, 113, 116, 130, 130, 124, 128, 1~\n$ DBP           <int> 59, 68, 80, 79, 64, 82, 96, 70, 72, ~\n$ Pulse         <int> 78, 70, 68, 68, 48, 68, 82, 78, 76, ~\n$ PhysActive    <fct> No, Yes, Yes, No, No, Yes, No, Yes, ~\n$ Smoke100      <fct> No, Yes, No, Yes, Yes, No, Yes, No, ~\n$ SleepTrouble  <fct> Yes, No, No, No, No, No, No, No, Yes~\n$ MaritalStatus <fct> Married, NeverMarried, Married, Marr~\n$ HealthGen     <fct> Excellent, Excellent, Excellent, Vgo~\nsummary(nh_adult750)       ID            Sex           Age       \n Min.   :62206   female:388   Min.   :21.00  \n 1st Qu.:64277   male  :362   1st Qu.:30.00  \n Median :66925                Median :40.00  \n Mean   :66936                Mean   :40.82  \n 3rd Qu.:69414                3rd Qu.:51.00  \n Max.   :71911                Max.   :64.00  \n                                             \n     Height          Weight             Race    \n Min.   :142.4   Min.   : 39.30   Asian   : 70  \n 1st Qu.:161.8   1st Qu.: 67.40   Black   :128  \n Median :168.9   Median : 80.00   Hispanic: 63  \n Mean   :168.9   Mean   : 83.16   Mexican : 80  \n 3rd Qu.:175.7   3rd Qu.: 95.30   White   :393  \n Max.   :200.4   Max.   :198.70   Other   : 16  \n NA's   :5       NA's   :5                      \n          Education        BMI             SBP       \n 8th Grade     : 50   Min.   :16.70   Min.   : 83.0  \n 9 - 11th Grade: 76   1st Qu.:24.20   1st Qu.:108.0  \n High School   :143   Median :27.90   Median :118.0  \n Some College  :241   Mean   :29.08   Mean   :118.8  \n College Grad  :240   3rd Qu.:32.10   3rd Qu.:127.0  \n                      Max.   :80.60   Max.   :209.0  \n                      NA's   :5       NA's   :33     \n      DBP             Pulse        PhysActive Smoke100 \n Min.   :  0.00   Min.   : 40.00   No :326    No :453  \n 1st Qu.: 66.00   1st Qu.: 66.00   Yes:424    Yes:297  \n Median : 73.00   Median : 72.00                       \n Mean   : 72.69   Mean   : 73.53                       \n 3rd Qu.: 80.00   3rd Qu.: 80.00                       \n Max.   :108.00   Max.   :124.00                       \n NA's   :33       NA's   :32                           \n SleepTrouble      MaritalStatus     HealthGen  \n No :555      Divorced    : 78   Excellent: 84  \n Yes:195      LivePartner : 70   Vgood    :197  \n              Married     :388   Good     :252  \n              NeverMarried:179   Fair     :104  \n              Separated   : 19   Poor     : 14  \n              Widowed     : 16   NA's     : 99  \n                                                "},{"path":"data-structures-and-types-of-variables.html","id":"quantitative-variables","chapter":"4 Data Structures and Types of Variables","heading":"4.3 Quantitative Variables","text":"Variables recorded numbers use numbers called quantitative. Familiar examples include incomes, heights, weights, ages, distances, times, counts. quantitative variables measurement units, tell quantitative variable measured. Without units (like miles per hour, angstroms, yen degrees Celsius) values quantitative variable meaning.little good told price something don’t know currency used.little good told price something don’t know currency used.might surprised see someone whose age 72 listed database childhood diseases find age measured months.might surprised see someone whose age 72 listed database childhood diseases find age measured months.Often just seeking units can reveal variable whose definition challenging - just measure “friendliness,” “success,” example.Often just seeking units can reveal variable whose definition challenging - just measure “friendliness,” “success,” example.Quantitative variables may also classified whether continuous can take discrete set values. Continuous data may take value, within defined range. Suppose measuring height. height really continuous, measuring stick usually lets us measure certain degree precision. measurements trustworthy nearest centimeter ruler , might describe discrete measures. always get precise ruler. measurement divisions make moving continuous concept discrete measurement usually fairly arbitrary. Another way think , enjoy music, , suggested Norman Streiner,16 piano discrete instrument, violin continuous one, enabling finer distinctions notes piano capable making. Sometimes distinction continuous discrete important, usually, ’s .\nnh_adult750 data includes several quantitative variables, specifically Age, Height, BMI,SBP,DBPandPulse`.\nknow quantitative units: Age years, Height centimeters, BMI kg/m2, BP measurements mm Hg, Pulse beats per minute.\nDepending context, likely treat discrete given measurements fairly crude (certainly true Age, measured years) although BMI probably continuous settings, even though function two measures (Height Weight) rounded integer numbers centimeters kilograms, respectively.\nQuantitative variables may also classified whether continuous can take discrete set values. Continuous data may take value, within defined range. Suppose measuring height. height really continuous, measuring stick usually lets us measure certain degree precision. measurements trustworthy nearest centimeter ruler , might describe discrete measures. always get precise ruler. measurement divisions make moving continuous concept discrete measurement usually fairly arbitrary. Another way think , enjoy music, , suggested Norman Streiner,16 piano discrete instrument, violin continuous one, enabling finer distinctions notes piano capable making. Sometimes distinction continuous discrete important, usually, ’s .nh_adult750 data includes several quantitative variables, specifically Age, Height, BMI,SBP,DBPandPulse`.know quantitative units: Age years, Height centimeters, BMI kg/m2, BP measurements mm Hg, Pulse beats per minute.Depending context, likely treat discrete given measurements fairly crude (certainly true Age, measured years) although BMI probably continuous settings, even though function two measures (Height Weight) rounded integer numbers centimeters kilograms, respectively.also possible separate quantitative variables ratio variables interval variables. interval variable equal distances values, zero point arbitrary. ratio variable equal intervals values, meaningful zero point. example, weight example ratio variable, IQ example interval variable. know zero weight . intelligence score like IQ different matter. say average IQ 100, ’s convention. just easily decided add 400 every IQ value make average 500 instead. IQ’s intervals equal, difference IQ 70 IQ 80 difference 120 130. However, IQ 100 twice high IQ 50. point zero point artificial moveable, differences numbers meaningful ratios . hand, lab test values ratio variables, physical characteristics like height weight. person weighs 100 kg twice heavy one weighs 50 kg; even convert kg pounds, still true. part, can treat analyze interval ratio variables way.\nquantitative variables nh_adult750 data can thought ratio variables.\nalso possible separate quantitative variables ratio variables interval variables. interval variable equal distances values, zero point arbitrary. ratio variable equal intervals values, meaningful zero point. example, weight example ratio variable, IQ example interval variable. know zero weight . intelligence score like IQ different matter. say average IQ 100, ’s convention. just easily decided add 400 every IQ value make average 500 instead. IQ’s intervals equal, difference IQ 70 IQ 80 difference 120 130. However, IQ 100 twice high IQ 50. point zero point artificial moveable, differences numbers meaningful ratios . hand, lab test values ratio variables, physical characteristics like height weight. person weighs 100 kg twice heavy one weighs 50 kg; even convert kg pounds, still true. part, can treat analyze interval ratio variables way.quantitative variables nh_adult750 data can thought ratio variables.Quantitative variables lend many summaries discuss, like means, quantiles, various measures spread, like standard deviation inter-quartile range. also least chance follow Normal distribution.Quantitative variables lend many summaries discuss, like means, quantiles, various measures spread, like standard deviation inter-quartile range. also least chance follow Normal distribution.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"a-look-at-bmi-body-mass-index","chapter":"4 Data Structures and Types of Variables","heading":"4.3.1 A look at BMI (Body-Mass Index)","text":"definition BMI (body-mass index) adult subjects (expressed units kg/m2) :\\[\n\\mbox{Body Mass Index} = \\frac{\\mbox{weight kg}}{(\\mbox{height meters})^2} = 703 \\times \\frac{\\mbox{weight pounds}}{(\\mbox{height inches})^2}\n\\][BMI essentially] … measure person’s thinness thickness… BMI designed use simple means classifying average sedentary (physically inactive) populations, average body composition. individuals, current value recommendations follow: BMI 18.5 25 may indicate optimal weight, BMI lower 18.5 suggests person underweight, number 25 30 may indicate person overweight, number 30 upwards suggests person obese.Wikipedia, https://en.wikipedia.org/wiki/Body_mass_index","code":""},{"path":"data-structures-and-types-of-variables.html","id":"qualitative-categorical-variables","chapter":"4 Data Structures and Types of Variables","heading":"4.4 Qualitative (Categorical) Variables","text":"Qualitative categorical variables consist names categories. names may numerical, numbers (names) simply codes identify groups categories individuals divided. Categorical variables two categories, like yes , , , generally, 1 0, called binary variables. two-categories sometimes called multi-categorical variables.categories included variable merely names, come particular order, sometimes call nominal variables. important summary variable usually table frequencies, mode becomes important single summary, mean median essentially useless.\nnh_adult750 data, Race nominal variable multiple unordered categories. MaritalStatus.\ncategories included variable merely names, come particular order, sometimes call nominal variables. important summary variable usually table frequencies, mode becomes important single summary, mean median essentially useless.nh_adult750 data, Race nominal variable multiple unordered categories. MaritalStatus.alternative categorical variable (order matters) called ordinal, includes variables sometimes thought falling right quantitative qualitative variables.\nExamples ordinal multi-categorical variables nh_adult750 data include Education HealthGen variables.\nAnswers questions like “overall physical health?” available responses Excellent, Good, Good, Fair Poor, often coded 1-5, certainly provide perceived order, group people average health status 4 (Good) necessarily twice healthy group average health status 2 (Fair).\nalternative categorical variable (order matters) called ordinal, includes variables sometimes thought falling right quantitative qualitative variables.Examples ordinal multi-categorical variables nh_adult750 data include Education HealthGen variables.Answers questions like “overall physical health?” available responses Excellent, Good, Good, Fair Poor, often coded 1-5, certainly provide perceived order, group people average health status 4 (Good) necessarily twice healthy group average health status 2 (Fair).Sometimes treat values ordinal variables sufficiently scaled permit us use quantitative approaches like means, quantiles, standard deviations summarize model results, times, ’ll treat ordinal variables nominal, tables percentages primary tools.Sometimes treat values ordinal variables sufficiently scaled permit us use quantitative approaches like means, quantiles, standard deviations summarize model results, times, ’ll treat ordinal variables nominal, tables percentages primary tools.Note binary variables may treated ordinal, nominal.\nBinary variables nh_adult750 data include Sex, PhysActive, Smoke100, SleepTrouble. can thought either ordinal nominal.\nNote binary variables may treated ordinal, nominal.Binary variables nh_adult750 data include Sex, PhysActive, Smoke100, SleepTrouble. can thought either ordinal nominal.Lots variables may treated either quantitative qualitative, depending use . instance, usually think age quantitative variable, simply use age make distinction “child” “adult” using describe categorical information. Just variable’s values numbers, don’t assume information provided quantitative.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"counting-missing-values","chapter":"4 Data Structures and Types of Variables","heading":"4.5 Counting Missing Values","text":"summary() command counts number missing observations variable, sometimes want considerably information.can use functions naniar package learn useful things missing data nh_adult750 sample.miss_var_table command provides table number variables 0, 1, 2, n, missing values percentage total number variables variables make ., instance, 9 variables missing data, constitutes 56.25% 16 variables nh_adult750 data.miss_var_summary() function tabultes number, percent missings, cumulative sum missings variable data frame, order least missingness., example, rmiss_var_summary(nh_temp) %>% slice_head(n = 1) %>% select(variable)variable one missing data anything else within thenh_adult750` data frame.graph information available, well.’ll note also functions count number missing observations case (observation) rather variable. example, can use miss_case_table.Now see 636 observations, 84.8% cases missing data.can use miss_case_summary() identify cases missing data, well.","code":"\nmiss_var_table(nh_adult750)# A tibble: 5 x 3\n  n_miss_in_var n_vars pct_vars\n          <int>  <int>    <dbl>\n1             0      9    56.2 \n2             5      3    18.8 \n3            32      1     6.25\n4            33      2    12.5 \n5            99      1     6.25\nmiss_var_summary(nh_adult750)# A tibble: 16 x 3\n   variable      n_miss pct_miss\n   <chr>          <int>    <dbl>\n 1 HealthGen         99   13.2  \n 2 SBP               33    4.4  \n 3 DBP               33    4.4  \n 4 Pulse             32    4.27 \n 5 Height             5    0.667\n 6 Weight             5    0.667\n 7 BMI                5    0.667\n 8 ID                 0    0    \n 9 Sex                0    0    \n10 Age                0    0    \n11 Race               0    0    \n12 Education          0    0    \n13 PhysActive         0    0    \n14 Smoke100           0    0    \n15 SleepTrouble       0    0    \n16 MaritalStatus      0    0    \ngg_miss_var(nh_adult750)\nmiss_case_table(nh_adult750)# A tibble: 6 x 3\n  n_miss_in_case n_cases pct_cases\n           <int>   <int>     <dbl>\n1              0     636    84.8  \n2              1      78    10.4  \n3              3      15     2    \n4              4      19     2.53 \n5              6       1     0.133\n6              7       1     0.133\nmiss_case_summary(nh_adult750)# A tibble: 750 x 3\n    case n_miss pct_miss\n   <int>  <int>    <dbl>\n 1   342      7     43.8\n 2   606      6     37.5\n 3   157      4     25  \n 4   169      4     25  \n 5   204      4     25  \n 6   234      4     25  \n 7   323      4     25  \n 8   415      4     25  \n 9   478      4     25  \n10   483      4     25  \n# ... with 740 more rows"},{"path":"data-structures-and-types-of-variables.html","id":"nh_cc","chapter":"4 Data Structures and Types of Variables","heading":"4.6 nh_adults500cc: A Sample of Complete Cases","text":"wanted sample exactly 750 subjects complete data, needed add step development nh_temp sampling frame filter complete cases.Let’s check new sampling frame missing data.OK. Now, let’s create second sample, called nh_adult500cc, now, select 500 adults complete data variables interest, using different random seed. cc stands complete cases.","code":"\nnh_temp2 <- NHANES %>%\n    filter(SurveyYr == \"2011_12\") %>%\n    filter(Age >= 21 & Age < 65) %>%\n    rename(Sex = Gender, Race = Race3, SBP = BPSysAve, DBP = BPDiaAve) %>%\n    select(ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, \n           Pulse, PhysActive, Smoke100, SleepTrouble, \n           MaritalStatus, HealthGen) %>%\n    distinct() %>%\n    filter(complete.cases(.))\nmiss_var_table(nh_temp2)# A tibble: 1 x 3\n  n_miss_in_var n_vars pct_vars\n          <int>  <int>    <dbl>\n1             0     16      100\nset.seed(431003) \n# use set.seed to ensure that we all get the same random sample \n\nnh_adult500cc <- slice_sample(nh_temp2, n = 500, replace = F) \n\nnh_adult500cc# A tibble: 500 x 16\n      ID Sex      Age Height Weight Race     Education   BMI\n   <int> <fct>  <int>  <dbl>  <dbl> <fct>    <fct>     <dbl>\n 1 64079 female    25   159.   86.2 Hispanic Some Col~  34.2\n 2 64374 female    52   169    65.5 Asian    College ~  22.9\n 3 71875 male      42   182.   94.1 Black    College ~  28.5\n 4 66396 female    46   161.  107.  Asian    8th Grade  41.2\n 5 64315 female    52   161.   64.5 White    9 - 11th~  24.9\n 6 64015 male      32   168.   82.3 Mexican  Some Col~  29  \n 7 63590 male      21   181.   98.3 Black    Some Col~  29.9\n 8 70893 female    30   171.   65.7 White    9 - 11th~  22.5\n 9 70828 male      26   178.  100.  White    Some Col~  31.5\n10 67930 male      59   172.   91.7 Mexican  College ~  31  \n# ... with 490 more rows, and 8 more variables: SBP <int>,\n#   DBP <int>, Pulse <int>, PhysActive <fct>,\n#   Smoke100 <fct>, SleepTrouble <fct>,\n#   MaritalStatus <fct>, HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"saving-our-samples-in-.rds-files","chapter":"4 Data Structures and Types of Variables","heading":"4.7 Saving our Samples in .Rds files","text":"’ll save nh_adult750 nh_adult500cc samples use later parts notes. , ’ll save .Rds files, advantages us later .also find .Rds files part 431-data repository course.Next, ’ll load, explore learn variables two samples.","code":"\nwrite_rds(nh_adult750, file = \"data/nh_adult750.Rds\")\nwrite_rds(nh_adult500cc, file = \"data/nh_adult500cc.Rds\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"visualizing-nhanes-complete-cases","chapter":"5 Visualizing NHANES Complete Cases","heading":"5 Visualizing NHANES Complete Cases","text":"","code":""},{"path":"visualizing-nhanes-complete-cases.html","id":"loading-in-the-complete-cases-sample","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.1 Loading in the “Complete Cases” Sample","text":"Let’s begin loading nh_500cc data frame information nh_adult500cc.Rds file created Section @ref(nh_cc).One obvious hurdle ’ll avoid moment missing data, since nh_500cc data specifically drawn complete responses. Working complete cases can introduce bias estimates visualizations, necessary time address complete-case analysis isn’t good choice. ’ll return issue chapters.","code":"\nnh_500cc <- read_rds(\"data/nh_adult500cc.Rds\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"distribution-of-heights","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.2 Distribution of Heights","text":"distribution height new sample?can several things clean .’ll change color lines bar histogram.’ll change fill inside bar make stand bit .’ll add title relabel horizontal (x) axis include units measurement.’ll avoid warning selecting number bins (’ll use 25 ) ’ll group heights drawing histogram.","code":"\nggplot(data = nh_500cc, aes(x = Height)) + \n    geom_histogram() `stat_bin()` using `bins = 30`. Pick better value with\n`binwidth`.\nggplot(data = nh_500cc, aes(x = Height)) + \n    geom_histogram(bins = 25, col = \"yellow\", fill = \"blue\") + \n    labs(title = \"Height of NHANES subjects ages 21-64\",\n         x = \"Height in cm.\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"changing-a-histograms-fill-and-color","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.2.1 Changing a Histogram’s Fill and Color","text":"CWRU color guide (https://case.edu/umc/-brand/visual-guidelines/) lists HTML color schemes CWRU blue CWRU gray. Let’s match color scheme. also change bins histogram, gather observations groups 2 cm. , specifying width bins, rather number bins.","code":"\ncwru.blue <- '#0a304e'\ncwru.gray <- '#626262'\n\nggplot(data = nh_500cc, aes(x = Height)) + \n    geom_histogram(binwidth = 2, \n                   col = cwru.gray, fill = cwru.blue) + \n    labs(title = \"Height of NHANES subjects ages 21-64\",\n         x = \"Height in cm.\") "},{"path":"visualizing-nhanes-complete-cases.html","id":"height-and-sex","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.3 Height and Sex","text":"Let’s look impact respondent’s sex height, now within sample adults.plot isn’t useful. can improve things little jittering points horizontally, overlap reduced.Perhaps might better summarise distribution different way. might consider boxplot data.","code":"\nggplot(data = nh_500cc, \n       aes(x = Sex, y = Height, color = Sex)) + \n    geom_point() + \n    labs(title = \"Height by Sex for NHANES subjects ages 21-64\",\n         y = \"Height in cm.\")\nggplot(data = nh_500cc, aes(x = Sex, y = Height, color = Sex)) + \n    geom_jitter(width = 0.2) + \n    labs(title = \"Height by Sex (jittered) for NHANES subjects ages 21-64\",\n         y = \"Height in cm.\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"a-boxplot-of-height-by-sex","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.3.1 A Boxplot of Height by Sex","text":"perhaps ’d like see pair histograms?","code":"\nggplot(data = nh_500cc, aes(x = Sex, y = Height, fill = Sex)) + \n    geom_boxplot() + \n    labs(title = \"Boxplot of Height by Sex for NHANES subjects ages 21-64\",\n         y = \"Height in cm.\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"histograms-of-height-by-sex","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.3.2 Histograms of Height by Sex","text":"Can redraw histograms little comparable, get rid unnecessary legend?","code":"\nggplot(data = nh_500cc, aes(x = Height, fill = Sex)) + \n    geom_histogram(color = \"white\", bins = 20) + \n    labs(title = \"Histogram of Height by Sex for NHANES subjects ages 21-64\",\n         x = \"Height in cm.\") + \n    facet_wrap(~ Sex)\nggplot(data = nh_500cc, aes(x = Height, fill = Sex)) + \n    geom_histogram(color = \"white\", bins = 20) + \n    labs(title = \"Histogram of Height by Sex for NHANES subjects ages 21-64 (Revised)\",\n         x = \"Height in cm.\") + \n    guides(fill = \"none\") +\n    facet_grid(Sex ~ .)"},{"path":"visualizing-nhanes-complete-cases.html","id":"looking-at-pulse-rate","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.4 Looking at Pulse Rate","text":"Let’s look different outcome, pulse rate subjects.’s histogram, CWRU colors, pulse rates sample.Suppose instead bin groups 5 beats per minute together plot Pulse rates.useful representation depend lot questions ’re trying answer.","code":"\nggplot(data = nh_500cc, aes(x = Pulse)) + \n    geom_histogram(binwidth = 1, \n                   fill = cwru.blue, col = cwru.gray) + \n    labs(title = \"Histogram of Pulse Rate: NHANES subjects ages 21-64\",\n         x = \"Pulse Rate (beats per minute)\")\nggplot(data = nh_500cc, aes(x = Pulse)) + \n    geom_histogram(binwidth = 5, \n                   fill = cwru.blue, col = cwru.gray) + \n    labs(title = \"Histogram of Pulse Rate: NHANES subjects ages 21-64\",\n         x = \"Pulse Rate (beats per minute)\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"pulse-rate-and-physical-activity","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.4.1 Pulse Rate and Physical Activity","text":"can also split data groups based whether subjects physically active. Let’s try boxplot.accompanying numerical summary, might ask many people fall PhysActive categories, “average” Pulse rate.knitr::kable(digits = 2) piece command tells R Markdown generate table attractive formatting, rounding decimals two figures.","code":"\nggplot(data = nh_500cc, \n       aes(y = Pulse, x = PhysActive, fill = PhysActive)) + \n    geom_boxplot() + \n    labs(title = \"Pulse Rate by Physical Activity Status for NHANES ages 21-64\")\nnh_500cc %>%\n    group_by(PhysActive) %>%\n    summarise(count = n(), mean(Pulse), median(Pulse)) %>%\n    knitr::kable(digits = 2) "},{"path":"visualizing-nhanes-complete-cases.html","id":"pulse-by-sleeping-trouble","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.4.2 Pulse by Sleeping Trouble","text":"many people fall SleepTrouble categories, “average” Pulse rate?","code":"\nggplot(data = nh_500cc, aes(x = Pulse, fill = SleepTrouble)) + \n    geom_histogram(color = \"white\", bins = 20) + \n    labs(title = \"Histogram of Pulse Rate by Sleep Trouble for NHANES subjects ages 21-64\",\n         x = \"Pulse Rate (beats per minute)\") + \n    guides(fill = \"none\") +\n    facet_grid(SleepTrouble ~ ., labeller = \"label_both\")\nnh_500cc %>%\n    group_by(SleepTrouble) %>%\n    summarise(count = n(), mean(Pulse), median(Pulse)) %>%\n    knitr::kable(digits = 2) "},{"path":"visualizing-nhanes-complete-cases.html","id":"pulse-and-healthgen","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.4.3 Pulse and HealthGen","text":"can compare distribution Pulse rate across groups subject’s self-reported overall health (HealthGen), well.many people fall HealthGen categories, “average” Pulse rate?","code":"\nggplot(data = nh_500cc, aes(x = HealthGen, y = Pulse, fill = HealthGen)) + \n    geom_boxplot() +\n    labs(title = \"Pulse by Self-Reported Overall Health for NHANES ages 21-64\",\n         x = \"Self-Reported Overall Health\", y = \"Pulse Rate\") + \n    guides(fill = \"none\") \nnh_500cc %>%\n    group_by(HealthGen) %>%\n    summarise(count = n(), mean(Pulse), median(Pulse)) %>%\n    knitr::kable(digits = 2) "},{"path":"visualizing-nhanes-complete-cases.html","id":"pulse-rate-and-systolic-blood-pressure","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.4.4 Pulse Rate and Systolic Blood Pressure","text":"","code":"\nggplot(data = nh_500cc, aes(x = SBP, y = Pulse)) +\n    geom_point() +\n    geom_smooth(method = \"loess\", formula = y ~ x) +\n    labs(title = \"Pulse Rate vs. SBP for NHANES subjects, ages 21-64\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"sleep-trouble-vs.-no-sleep-trouble","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.4.5 Sleep Trouble vs. No Sleep Trouble?","text":"see whether subjects described SleepTrouble show different SBP-pulse rate patterns subjects haven’t?Let’s try changing shape color points based SleepTrouble.plot might easier interpret faceted SleepTrouble, well.","code":"\nggplot(data = nh_500cc, \n       aes(x = SBP, y = Pulse, \n           color = SleepTrouble, shape = SleepTrouble)) +\n    geom_point() +\n    geom_smooth(method = \"loess\", formula = y ~ x) +\n    labs(title = \"Pulse Rate vs. SBP for NHANES subjects, ages 21-64\")\nggplot(data = nh_500cc, \n       aes(x = SBP, y = Pulse, \n           color = SleepTrouble, shape = SleepTrouble)) +\n    geom_point() +\n    geom_smooth(method = \"loess\", formula = y ~ x) +\n    labs(title = \"Pulse Rate vs. SBP for NHANES subjects, ages 21-64\") +\n    facet_wrap(~ SleepTrouble, labeller = \"label_both\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"general-health-status","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.5 General Health Status","text":"’s Table General Health Status results. , self-reported rating subject’s health five point scale (Excellent, Good, Good, Fair, Poor.)HealthGen data categorical, means summarizing averages isn’t appealing looking percentages, proportions rates. tabyl function comes janitor package R.don’t actually like title percent , ’s really proportion, can adjusted, can add total.working unordered categorical variable, like MaritalStatus, approach can work.","code":"\nnh_500cc %>%\n    tabyl(HealthGen)  HealthGen   n percent\n Excellent  52   0.104\n     Vgood 167   0.334\n      Good 204   0.408\n      Fair  65   0.130\n      Poor  12   0.024\nnh_500cc %>%\n    tabyl(HealthGen) %>%\n    adorn_totals() %>%\n    adorn_pct_formatting() HealthGen   n percent\n Excellent  52   10.4%\n     Vgood 167   33.4%\n      Good 204   40.8%\n      Fair  65   13.0%\n      Poor  12    2.4%\n     Total 500  100.0%\nnh_500cc %>%\n    tabyl(MaritalStatus) %>%\n    adorn_totals() %>%\n    adorn_pct_formatting() MaritalStatus   n percent\n      Divorced  47    9.4%\n   LivePartner  46    9.2%\n       Married 256   51.2%\n  NeverMarried 125   25.0%\n     Separated  17    3.4%\n       Widowed   9    1.8%\n         Total 500  100.0%"},{"path":"visualizing-nhanes-complete-cases.html","id":"bar-chart-for-categorical-data","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.5.1 Bar Chart for Categorical Data","text":"Usually, bar chart best choice graphing variable made categories.lots things can make plot fancier., can really go crazy…","code":"\nggplot(data = nh_500cc, aes(x = HealthGen)) + \n    geom_bar()\nggplot(data = nh_500cc, aes(x = HealthGen, fill = HealthGen)) + \n    geom_bar() + \n    guides(fill = \"none\") +\n    labs(x = \"Self-Reported Health Status\",\n         y = \"Number of NHANES subjects\",\n         title = \"Self-Reported Health Status in NHANES subjects ages 21-64\")\nnh_500cc %>%\n    count(HealthGen) %>%\n    mutate(pct = round_half_up(prop.table(n) * 100, 1)) %>%\n    ggplot(aes(x = HealthGen, y = pct, fill = HealthGen)) + \n    geom_bar(stat = \"identity\", position = \"dodge\") +\n    scale_fill_viridis_d() +\n    guides(fill = \"none\") +\n    geom_text(aes(y = pct + 1,    # nudge above top of bar\n                  label = paste0(pct, '%')),  # prettify\n              position = position_dodge(width = .9), \n              size = 4) +\n    labs(x = \"Self-Reported Health Status\",\n         y = \"Percentage of NHANES subjects\",\n         title = \"Self-Reported Health Status in NHANES subjects ages 21-64\") +\n    theme_bw()"},{"path":"visualizing-nhanes-complete-cases.html","id":"two-way-tables","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.5.2 Two-Way Tables","text":"can create cross-classifications two categorical variables (example HealthGen Smoke100), adding row column marginal totals, compare subjects Sex, follows…like, can make look little polished knitr::kable function…, can get complete cross-tabulation, including (case) percentages people within two categories Smoke100 fall HealthGen category (percentages within row) like ., wanted column percentages, determine sex higher rate HealthGen status level, can get changing adorn_percentages describe results column level:","code":"\nnh_500cc %>%\n    tabyl(Smoke100, HealthGen) %>%\n    adorn_totals(c(\"row\", \"col\"))  Smoke100 Excellent Vgood Good Fair Poor Total\n       No        44   108  105   29    5   291\n      Yes         8    59   99   36    7   209\n    Total        52   167  204   65   12   500\nnh_500cc %>%\n    tabyl(Smoke100, HealthGen) %>%\n    adorn_totals(c(\"row\", \"col\")) %>%\n    knitr::kable()\nnh_500cc %>%\n    tabyl(Smoke100, HealthGen) %>%\n    adorn_totals(\"row\") %>%\n    adorn_percentages(\"row\") %>%\n    adorn_pct_formatting() %>%\n    adorn_ns() %>%\n    knitr::kable()\nnh_500cc %>%\n    tabyl(Sex, HealthGen) %>%\n    adorn_totals(\"col\") %>%\n    adorn_percentages(\"col\") %>%\n    adorn_pct_formatting() %>%\n    adorn_ns() %>%\n    knitr::kable()"},{"path":"visualizing-nhanes-complete-cases.html","id":"sbp-by-general-health-status","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.5.3 SBP by General Health Status","text":"Let’s consider now relationship self-reported overall health systolic blood pressure.can see many people self-identify “Poor” health category.","code":"\nggplot(data = nh_500cc, aes(x = HealthGen, y = SBP, \n                            fill = HealthGen)) + \n    geom_boxplot() + \n    labs(title = \"SBP by Health Status, Overall Health for NHANES ages 21-64\",\n         y = \"Systolic Blood Pressure\", \n         x = \"Self-Reported Overall Health\") + \n    guides(fill = \"none\") \nnh_500cc %>%\n    group_by(HealthGen) %>%\n    summarise(count = n(), mean(SBP), median(SBP)) %>%\n    knitr::kable() "},{"path":"visualizing-nhanes-complete-cases.html","id":"sbp-by-physical-activity-and-general-health-status","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.5.4 SBP by Physical Activity and General Health Status","text":"’ll build panel boxplots try understand relationships Systolic Blood Pressure, General Health Status Physical Activity. Note use coord_flip rotate graph 90 degrees, use labeller within facet_wrap include name (Physical Activity) variable value.","code":"\nggplot(data = nh_500cc, aes(x = HealthGen, y = SBP, fill = HealthGen)) + \n    geom_boxplot() + \n    labs(title = \"SBP by Health Status, Overall Health for NHANES ages 21-64\",\n         y = \"Systolic BP\", x = \"Self-Reported Overall Health\") + \n    guides(fill = \"none\") +\n    facet_wrap(~ PhysActive, labeller = \"label_both\") + \n    coord_flip()"},{"path":"visualizing-nhanes-complete-cases.html","id":"sbp-by-sleep-trouble-and-general-health-status","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.5.5 SBP by Sleep Trouble and General Health Status","text":"’s plot faceted histograms, might used address similar questions related relationship Overall Health, Systolic Blood Pressure whether someone trouble sleeping.","code":"\nggplot(data = nh_500cc, aes(x = SBP, fill = HealthGen)) + \n    geom_histogram(color = \"white\", bins = 20) + \n    labs(title = \"SBP by Overall Health and Sleep Trouble for NHANES ages 21-64\",\n         x = \"Systolic BP\") + \n    guides(fill = \"none\") +\n    facet_grid(SleepTrouble ~ HealthGen, labeller = \"label_both\")"},{"path":"visualizing-nhanes-complete-cases.html","id":"conclusions","chapter":"5 Visualizing NHANES Complete Cases","heading":"5.6 Conclusions","text":"just small piece toolbox visualizations ’ll create class. Many additional tools way, main idea won’t change. Using ggplot2 package, can accomplish several critical tasks creating visualization, including:Identifying (labeling) axes titlesIdentifying type geom use, like point, bar histogramChanging fill, color, shape, size facilitate comparisonsBuilding “small multiples” plots facetingGood data visualizations make easy see data, ggplot2’s tools make relatively difficult make really bad graph.","code":""},{"path":"summarizing_quantities.html","id":"summarizing_quantities","chapter":"6 Summarizing Quantitative Variables","heading":"6 Summarizing Quantitative Variables","text":"numerical summaries might new applied appropriately quantitative variables. measures interest us relate :center distribution,spread distribution, andthe shape distribution.demonstrate key ideas Chapter, consider sample 750 adults ages 21-64 NHANES 2011-12 includes missing values. ’ll load nh_750 data frame information nh_adult750.Rds file created Section 4.2.","code":"\nnh_750 <- read_rds(\"data/nh_adult750.Rds\")"},{"path":"summarizing_quantities.html","id":"the-summary-function-for-quantitative-data","chapter":"6 Summarizing Quantitative Variables","heading":"6.1 The summary function for Quantitative data","text":"R provides small sampling numerical summaries summary function, instance.basic summary includes set five quantiles17, plus sample’s mean.Min. = minimum value variable, , example, youngest subject’s Age 21.1st Qu. = first quartile (25th percentile) variable - example, 25% subjects Age 30 younger.Median = median (50th percentile) - half subjects Age 40 younger.Mean = mean, usually one means average - sum Ages divided 750 40.8,3rd Qu. = third quartile (75th percentile) - 25% subjects Age 51 older.Max. = maximum value variable, oldest subject Age 64.summary also specifies number missing values variable. , missing 5 BMI values, example.","code":"\nnh_750 %>%\n  select(Age, BMI, SBP, DBP, Pulse) %>%\n  summary()      Age             BMI             SBP       \n Min.   :21.00   Min.   :16.70   Min.   : 83.0  \n 1st Qu.:30.00   1st Qu.:24.20   1st Qu.:108.0  \n Median :40.00   Median :27.90   Median :118.0  \n Mean   :40.82   Mean   :29.08   Mean   :118.8  \n 3rd Qu.:51.00   3rd Qu.:32.10   3rd Qu.:127.0  \n Max.   :64.00   Max.   :80.60   Max.   :209.0  \n                 NA's   :5       NA's   :33     \n      DBP             Pulse       \n Min.   :  0.00   Min.   : 40.00  \n 1st Qu.: 66.00   1st Qu.: 66.00  \n Median : 73.00   Median : 72.00  \n Mean   : 72.69   Mean   : 73.53  \n 3rd Qu.: 80.00   3rd Qu.: 80.00  \n Max.   :108.00   Max.   :124.00  \n NA's   :33       NA's   :32      "},{"path":"summarizing_quantities.html","id":"measuring-the-center-of-a-distribution","chapter":"6 Summarizing Quantitative Variables","heading":"6.2 Measuring the Center of a Distribution","text":"","code":""},{"path":"summarizing_quantities.html","id":"the-mean-and-the-median","chapter":"6 Summarizing Quantitative Variables","heading":"6.2.1 The Mean and The Median","text":"mean median commonly used measures center distribution quantitative variable. median generally useful value, relevant even data shape symmetric. might also collect sum observations, count number observations, usually symbolized n.variables without missing values, like Age, pretty straightforward., Mean just Sum (30616), divided number non-missing values Age (750), 40.8213333.Median middle value data sorted order. odd number values, sufficient. even number, case, take mean two middle values. sort list 500 Ages, wanted .data set figures don’t want output 10 observations table like .really want see data, can use View(nh_750) get spreadsheet-style presentation, use sort command…, find median, take mean middle two observations sorted data set. 250th 251st largest Ages.","code":"\nnh_750 %>%\n    summarise(n = n(), Mean = mean(Age), Median = median(Age), Sum = sum(Age))# A tibble: 1 x 4\n      n  Mean Median   Sum\n  <int> <dbl>  <dbl> <int>\n1   750  40.8     40 30616\nnh_750 %>% select(Age) %>% \n    arrange(Age)# A tibble: 750 x 1\n     Age\n   <int>\n 1    21\n 2    21\n 3    21\n 4    21\n 5    21\n 6    21\n 7    21\n 8    21\n 9    21\n10    21\n# ... with 740 more rows\nsort(nh_750$Age)  [1] 21 21 21 21 21 21 21 21 21 21 21 21 21 21 21 21 21 21\n [19] 21 21 21 21 22 22 22 22 22 22 22 22 22 22 22 22 22 22\n [37] 22 22 22 22 22 22 22 22 23 23 23 23 23 23 23 23 23 23\n [55] 23 23 23 23 23 23 23 23 23 23 23 23 24 24 24 24 24 24\n [73] 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 25\n [91] 25 25 25 25 25 25 25 25 25 25 25 25 25 26 26 26 26 26\n[109] 26 26 26 26 26 26 26 26 26 27 27 27 27 27 27 27 27 27\n[127] 27 27 27 27 28 28 28 28 28 28 28 28 28 28 28 28 28 28\n[145] 28 28 28 28 28 28 29 29 29 29 29 29 29 29 29 29 29 29\n[163] 29 29 29 29 29 29 29 29 30 30 30 30 30 30 30 30 30 30\n[181] 30 30 30 30 30 30 30 30 30 30 30 30 30 30 31 31 31 31\n[199] 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 32 32 32\n[217] 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32\n[235] 32 32 32 32 32 32 32 33 33 33 33 33 33 33 33 33 33 33\n[253] 33 33 33 33 33 33 33 33 33 33 33 33 33 34 34 34 34 34\n[271] 34 34 34 34 34 34 34 34 34 35 35 35 35 35 35 35 35 35\n[289] 35 35 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36\n[307] 36 36 36 36 36 36 36 36 36 36 37 37 37 37 37 37 37 37\n[325] 37 37 37 37 37 37 37 37 37 37 38 38 38 38 38 38 38 38\n[343] 38 38 38 38 38 38 38 38 39 39 39 39 39 39 39 39 39 39\n[361] 39 39 39 39 39 39 39 39 39 40 40 40 40 40 40 40 40 40\n[379] 40 40 40 40 40 40 40 40 40 41 41 41 41 41 41 41 41 41\n[397] 41 41 41 41 42 42 42 42 42 42 42 42 42 42 42 42 42 42\n[415] 42 42 42 42 42 43 43 43 43 43 43 43 43 43 43 43 43 43\n[433] 43 43 43 43 43 44 44 44 44 44 44 44 44 44 44 44 44 44\n[451] 44 44 44 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45\n[469] 45 45 46 46 46 46 46 46 46 46 46 46 46 46 46 46 47 47\n[487] 47 47 47 47 47 47 47 47 47 47 47 47 47 47 47 48 48 48\n[505] 48 48 48 48 48 48 48 48 49 49 49 49 49 49 49 49 49 49\n[523] 49 49 49 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50\n[541] 50 50 50 50 50 50 50 50 50 50 50 51 51 51 51 51 51 51\n[559] 51 51 51 51 51 51 51 51 51 51 51 51 51 52 52 52 52 52\n[577] 52 52 52 52 52 52 52 53 53 53 53 53 53 53 53 53 53 53\n[595] 53 53 53 53 54 54 54 54 54 54 54 54 54 54 54 54 54 54\n[613] 54 54 55 55 55 55 55 55 55 55 55 55 56 56 56 56 56 56\n[631] 56 56 56 56 56 56 56 56 56 56 56 56 56 57 57 57 57 57\n[649] 57 57 57 57 58 58 58 58 58 58 58 58 58 58 58 58 58 58\n[667] 58 58 58 58 59 59 59 59 59 59 59 59 59 59 59 59 59 60\n[685] 60 60 60 60 60 60 60 60 60 60 60 60 61 61 61 61 61 61\n[703] 61 61 61 61 61 61 61 61 62 62 62 62 62 62 62 62 62 62\n[721] 62 62 62 63 63 63 63 63 63 63 63 63 63 63 63 63 64 64\n[739] 64 64 64 64 64 64 64 64 64 64 64 64\nsort(nh_750$Age)[250:251][1] 33 33"},{"path":"summarizing_quantities.html","id":"dealing-with-missingness","chapter":"6 Summarizing Quantitative Variables","heading":"6.2.2 Dealing with Missingness","text":"calculating mean, may tempted try something like …fails missing values Pulse data. can address either omitting data missing values run summarise function, tell mean median summary functions remove missing values18., tell summary functions remove NA values.eventually discuss importance imputation dealing missing data, doesn’t apply providing descriptive summaries actual, observed values.","code":"\nnh_750 %>%\n    summarise(mean(Pulse), median(Pulse))# A tibble: 1 x 2\n  `mean(Pulse)` `median(Pulse)`\n          <dbl>           <int>\n1            NA              NA\nnh_750 %>%\n    filter(complete.cases(Pulse)) %>%\n    summarise(count = n(), mean(Pulse), median(Pulse))# A tibble: 1 x 3\n  count `mean(Pulse)` `median(Pulse)`\n  <int>         <dbl>           <dbl>\n1   718          73.5              72\nnh_750 %>%\n    summarise(mean(Pulse, na.rm=TRUE), median(Pulse, na.rm=TRUE))# A tibble: 1 x 2\n  `mean(Pulse, na.rm = TRUE)` `median(Pulse, na.rm = TRUE)`\n                        <dbl>                         <dbl>\n1                        73.5                            72"},{"path":"summarizing_quantities.html","id":"the-mode-of-a-quantitative-variable","chapter":"6 Summarizing Quantitative Variables","heading":"6.2.3 The Mode of a Quantitative Variable","text":"One less common measure center quantitative variable’s distribution frequently observed value, referred mode. measure appropriate discrete variables, quantitative categorical. find mode, usually tabulate data, sort counts numbers observations.Note use three different “verbs” function - explanation strategy, visit Grolemund Wickham.19As alternative, modeest package’s mfv function calculates sample mode (frequent value).20","code":"\nnh_750 %>%\n    group_by(Age) %>%\n    summarise(count = n()) %>%\n    arrange(desc(count)) # A tibble: 44 x 2\n     Age count\n   <int> <int>\n 1    32    28\n 2    36    26\n 3    50    26\n 4    30    24\n 5    33    24\n 6    24    23\n 7    21    22\n 8    22    22\n 9    23    22\n10    28    20\n# ... with 34 more rows"},{"path":"summarizing_quantities.html","id":"measuring-the-spread-of-a-distribution","chapter":"6 Summarizing Quantitative Variables","heading":"6.3 Measuring the Spread of a Distribution","text":"Statistics variation, spread dispersion important fundamental concept statistics. Measures spread like inter-quartile range range (maximum - minimum) can help us understand compare data sets. values data close center, spread small. many values data scattered far away center, spread large.","code":""},{"path":"summarizing_quantities.html","id":"rangeandiqr","chapter":"6 Summarizing Quantitative Variables","heading":"6.3.1 The Range and the Interquartile Range (IQR)","text":"range quantitative variable sometimes interpreted difference maximum minimum, even though R presents actual minimum maximum values ask range…, variable missing values, can use…interesting useful statistic inter-quartile range, IQR, range middle half distribution, calculated subtracting 25th percentile value 75th percentile value.can calculate range IQR nicely summary information quantiles, course:","code":"\nnh_750 %>% \n    select(Age) %>% \n    range()[1] 21 64\nnh_750 %>% \n    select(BMI) %>% \n    range(., na.rm=TRUE)[1] 16.7 80.6\nnh_750 %>%\n    summarise(IQR(Age), quantile(Age, 0.25), quantile(Age, 0.75))# A tibble: 1 x 3\n  `IQR(Age)` `quantile(Age, 0.25)` `quantile(Age, 0.75)`\n       <dbl>                 <dbl>                 <dbl>\n1         21                    30                    51\nnh_750 %>%\n    select(Age, BMI, SBP, DBP, Pulse) %>%\n    summary()      Age             BMI             SBP       \n Min.   :21.00   Min.   :16.70   Min.   : 83.0  \n 1st Qu.:30.00   1st Qu.:24.20   1st Qu.:108.0  \n Median :40.00   Median :27.90   Median :118.0  \n Mean   :40.82   Mean   :29.08   Mean   :118.8  \n 3rd Qu.:51.00   3rd Qu.:32.10   3rd Qu.:127.0  \n Max.   :64.00   Max.   :80.60   Max.   :209.0  \n                 NA's   :5       NA's   :33     \n      DBP             Pulse       \n Min.   :  0.00   Min.   : 40.00  \n 1st Qu.: 66.00   1st Qu.: 66.00  \n Median : 73.00   Median : 72.00  \n Mean   : 72.69   Mean   : 73.53  \n 3rd Qu.: 80.00   3rd Qu.: 80.00  \n Max.   :108.00   Max.   :124.00  \n NA's   :33       NA's   :32      "},{"path":"summarizing_quantities.html","id":"the-variance-and-the-standard-deviation","chapter":"6 Summarizing Quantitative Variables","heading":"6.3.2 The Variance and the Standard Deviation","text":"IQR always reasonable summary spread, just median always reasonable summary center distribution. Yet, people inclined summarise batch data using two numbers: mean standard deviation. really sensible thing willing assume data follow Normal distribution: bell-shaped, symmetric distribution without substantial outliers.data (even approximately) follow Normal distribution. Summarizing median quartiles (25th 75th percentiles) much robust, explaining R’s emphasis .","code":""},{"path":"summarizing_quantities.html","id":"obtaining-the-variance-and-standard-deviation-in-r","chapter":"6 Summarizing Quantitative Variables","heading":"6.3.3 Obtaining the Variance and Standard Deviation in R","text":"variances quantitative variables nh_750 data. Note need include na.rm = TRUE deal missing values variables.standard deviations variables.","code":"\nnh_750 %>%\n    select(Age, BMI, SBP, DBP, Pulse) %>%\n    summarise_all(var, na.rm = TRUE)# A tibble: 1 x 5\n    Age   BMI   SBP   DBP Pulse\n  <dbl> <dbl> <dbl> <dbl> <dbl>\n1  157.  52.4  229.  128.  136.\nnh_750 %>%\n    select(Age, BMI, SBP, DBP, Pulse) %>%\n    summarise_all(sd, na.rm = TRUE)# A tibble: 1 x 5\n    Age   BMI   SBP   DBP Pulse\n  <dbl> <dbl> <dbl> <dbl> <dbl>\n1  12.5  7.24  15.1  11.3  11.6"},{"path":"summarizing_quantities.html","id":"defining-the-variance-and-standard-deviation","chapter":"6 Summarizing Quantitative Variables","heading":"6.3.4 Defining the Variance and Standard Deviation","text":"Bock, Velleman, De Veaux21 lots useful thoughts , lightly edited .thinking spread, might consider far data value mean. difference called deviation. just average deviations, positive negative differences always cancel , leaving average deviation zero, ’s helpful. Instead, square deviation obtain non-negative values, emphasize larger differences. add squared deviations find mean (almost), yields variance.\\[\n\\mbox{Variance} = s^2 = \\frac{\\Sigma (y - \\bar{y})^2}{n-1}\n\\]almost? mean squared deviations divided sum \\(n\\), instead divide \\(n-1\\) produces estimate true (population) variance unbiased22. ’re looking intuitive explanation, Stack Exchange link awaits attention.return original units measurement, take square root \\(s^2\\), instead work \\(s\\), standard deviation, also abbreviated SD.\\[\n\\mbox{Standard Deviation} = s = \\sqrt{\\frac{\\Sigma (y - \\bar{y})^2}{n-1}}\n\\]","code":""},{"path":"summarizing_quantities.html","id":"interpreting-the-sd-when-the-data-are-normally-distributed","chapter":"6 Summarizing Quantitative Variables","heading":"6.3.5 Interpreting the SD when the data are Normally distributed","text":"set measurements follow Normal distribution, interval:Mean \\(\\pm\\) Standard Deviation contains approximately 68% measurements;Mean \\(\\pm\\) 2(Standard Deviation) contains approximately 95% measurements;Mean \\(\\pm\\) 3(Standard Deviation) contains approximately (99.7%) measurements.often refer population process mean distribution \\(\\mu\\) standard deviation \\(\\sigma\\), leading Figure .\n(#fig:c6_Emp_Rule)Normal Distribution Empirical Rule\ndata approximately Normal distribution, Empirical Rule less helpful.","code":""},{"path":"summarizing_quantities.html","id":"chebyshevs-inequality-one-interpretation-of-the-standard-deviation","chapter":"6 Summarizing Quantitative Variables","heading":"6.3.6 Chebyshev’s Inequality: One Interpretation of the Standard Deviation","text":"Chebyshev’s Inequality tells us distribution, regardless relationship Normal distribution, 1/k2 distribution’s values can lie k standard deviations mean. implies, instance, distribution, least 75% values must lie within two standard deviations mean, least 89% must lie within three standard deviations mean., data sets follow Normal distribution. ’ll return notion soon. first, let’s try draw pictures let us get better understanding distribution data.","code":""},{"path":"summarizing_quantities.html","id":"measuring-the-shape-of-a-distribution","chapter":"6 Summarizing Quantitative Variables","heading":"6.4 Measuring the Shape of a Distribution","text":"considering shape distribution, one often interested three key points.number modes distribution, always assess plotting data.skewness, symmetry present, typically assess looking plot distribution data, required , summarise non-parametric measure skewness.kurtosis, heavy-tailedness (outlier-proneness) present, usually comparison Normal distribution. , something nearly inevitably assess graphically, measures.Normal distribution single mode, symmetric , naturally, neither heavy-tailed light-tailed compared Normal distribution (call mesokurtic).","code":""},{"path":"summarizing_quantities.html","id":"multimodal-vs.-unimodal-distributions","chapter":"6 Summarizing Quantitative Variables","heading":"6.4.1 Multimodal vs. Unimodal distributions","text":"unimodal distribution, level, straightforward. distribution single mode, “peak” distribution. distribution may skewed symmetric, light-tailed heavy-tailed. usually describe multimodal distributions like two right , multiple local maxima, even though just single global maximum peak.\n(#fig:c6_modality-fig)Unimodal Multimodal Sketches\nTruly multimodal distributions usually described way terms shape. unimodal distributions, skewness kurtosis become useful ideas.","code":""},{"path":"summarizing_quantities.html","id":"skew","chapter":"6 Summarizing Quantitative Variables","heading":"6.4.2 Skew","text":"Whether distribution approximately symmetric important consideration describing shape. Graphical assessments always useful setting, particularly unimodal data. favorite measure skew, skewness data single mode, :\\[\nskew_1 = \\frac{\\mbox{mean} - \\mbox{median}}{\\mbox{standard deviation}}\n\\]Symmetric distributions generally show values \\(skew_1\\) near zero. distribution actually symmetric, mean equal median.Distributions \\(skew_1\\) values 0.2 absolute value generally indicate meaningful skew.Positive skew (mean > median data unimodal) also referred right skew.Negative skew (mean < median data unimodal) referred left skew.\n(#fig:c6_negandposskew-fig)Negative (Left) Skew Positive (Right) Skew\n","code":""},{"path":"summarizing_quantities.html","id":"kurtosis","chapter":"6 Summarizing Quantitative Variables","heading":"6.4.3 Kurtosis","text":"unimodal distribution symmetric, often interested behavior tails distribution, compared Normal distribution mean standard deviation. High values kurtosis measures (several) indicate data extreme outliers, heavy-tailed.mesokurtic distribution similar tail behavior expect Normal distribution.leptokurtic distribution thinner, slender distribution, heavier tails ’d expect Normal distribution. One example t distribution.platykurtic distribution broader, flatter distribution, thinner tails ’d expect Normal distribution. One example uniform distribution.Graphical tools cases best way identify issues related kurtosis.","code":"\nset.seed(431)\nsims_kurt <- tibble(meso = rnorm(n = 300, mean = 0, sd = 1),\n                    lepto = rt(n = 300, df = 4),\n                    platy = runif(n = 300, min = -2, max = 2))\n\np1 <- ggplot(sims_kurt, aes(x = meso)) +\n  geom_histogram(aes(y = stat(density)), \n                 bins = 25, fill = \"royalblue\", col = \"white\") +\n  stat_function(fun = dnorm, \n                args = list(mean = mean(sims_kurt$meso), \n                            sd = sd(sims_kurt$meso)),\n                col = \"red\") +\n  labs(title = \"Normal (mesokurtic)\")\n\np1a <- ggplot(sims_kurt, aes(x = meso, y = \"\")) +\n  geom_violin() +\n  geom_boxplot(fill = \"royalblue\", outlier.color = \"royalblue\", width = 0.3)\n\np2 <- ggplot(sims_kurt, aes(x = lepto)) +\n  geom_histogram(aes(y = stat(density)), \n                 bins = 25, fill = \"tomato\", col = \"white\") +\n  stat_function(fun = dnorm, \n                args = list(mean = mean(sims_kurt$lepto), \n                            sd = sd(sims_kurt$lepto)),\n                col = \"royalblue\") +\n  labs(title = \"t (leptokurtic)\")\n\np2a <- ggplot(sims_kurt, aes(x = lepto, y = \"\")) +\n  geom_violin() +\n  geom_boxplot(fill = \"tomato\", outlier.color = \"tomato\", width = 0.3) +\n  labs(y = \"\", x = \"t (slender with heavy tails)\")\n\np3 <- ggplot(sims_kurt, aes(x = platy)) +\n  geom_histogram(aes(y = stat(density)), \n                 bins = 25, fill = \"yellow\", col = \"black\") +\n  stat_function(fun = dnorm, \n                args = list(mean = mean(sims_kurt$platy), \n                            sd = sd(sims_kurt$platy)),\n                col = \"royalblue\", lwd = 1.5) +\n  xlim(-3, 3) +\n  labs(title = \"Uniform (platykurtic)\")\n\np3a <- ggplot(sims_kurt, aes(x = platy, y = \"\")) +\n  geom_violin() +\n  geom_boxplot(fill = \"yellow\", width = 0.3) + \n  xlim(-3, 3) +\n  labs(y = \"\", x = \"Uniform (broad with thin tails)\")\n\n\n(p1 + p2 + p3) / (p1a + p2a + p3a) + \n  plot_layout(heights = c(3, 1))Warning: Removed 2 rows containing missing values\n(geom_bar)."},{"path":"summarizing_quantities.html","id":"numerical-summaries-for-quantitative-variables","chapter":"6 Summarizing Quantitative Variables","heading":"6.5 Numerical Summaries for Quantitative Variables","text":"","code":""},{"path":"summarizing_quantities.html","id":"favstats-in-the-mosaic-package","chapter":"6 Summarizing Quantitative Variables","heading":"6.5.1 favstats in the mosaic package","text":"favstats function adds standard deviation, counts overall missing observations usual summary continuous variable. Let’s look systolic blood pressure, haven’t yet., course, duplicate results rather lengthy set summarise pieces…somewhat unusual structure favstats (complete easy forget ~) actually helpful. allows look interesting grouping approaches, like :course, accomplish comparison dplyr commands, , favstats approach much offer.","code":"\nmosaic::favstats(~ SBP, data = nh_750) min  Q1 median  Q3 max     mean       sd   n missing\n  83 108    118 127 209 118.7908 15.14329 717      33\nnh_750 %>%\n    filter(complete.cases(SBP)) %>%\n    summarise(min = min(SBP), Q1 = quantile(SBP, 0.25), median = median(SBP), \n              Q3 = quantile(SBP, 0.75), max = max(SBP),  \n              mean = mean(SBP), sd = sd(SBP), n = n(), missing = sum(is.na(SBP)))# A tibble: 1 x 9\n    min    Q1 median    Q3   max  mean    sd     n missing\n  <int> <dbl>  <int> <dbl> <int> <dbl> <dbl> <int>   <int>\n1    83   108    118   127   209  119.  15.1   717       0\nmosaic::favstats(SBP ~ Education, data = nh_750)       Education min     Q1 median     Q3 max     mean\n1      8th Grade  96 110.25  119.5 129.75 167 122.4565\n2 9 - 11th Grade  85 107.75  116.0 127.00 191 118.8026\n3    High School  84 111.50  120.5 129.00 209 121.0882\n4   Some College  85 108.00  117.0 126.00 186 118.6293\n5   College Grad  83 107.00  117.0 125.00 171 116.8326\n        sd   n missing\n1 16.34993  46       4\n2 15.79453  76       0\n3 16.52853 136       7\n4 14.32736 232       9\n5 14.41202 227      13\nnh_750 %>%\n    filter(complete.cases(SBP, Education)) %>%\n    group_by(Education) %>%\n    summarise(min = min(SBP), Q1 = quantile(SBP, 0.25), median = median(SBP), \n              Q3 = quantile(SBP, 0.75), max = max(SBP),  \n              mean = mean(SBP), sd = sd(SBP), n = n(), missing = sum(is.na(SBP)))# A tibble: 5 x 10\n  Education   min    Q1 median    Q3   max  mean    sd     n\n  <fct>     <int> <dbl>  <dbl> <dbl> <int> <dbl> <dbl> <int>\n1 8th Grade    96  110.   120.  130.   167  122.  16.3    46\n2 9 - 11th~    85  108.   116   127    191  119.  15.8    76\n3 High Sch~    84  112.   120.  129    209  121.  16.5   136\n4 Some Col~    85  108    117   126    186  119.  14.3   232\n5 College ~    83  107    117   125    171  117.  14.4   227\n# ... with 1 more variable: missing <int>"},{"path":"summarizing_quantities.html","id":"describe-in-the-psych-package","chapter":"6 Summarizing Quantitative Variables","heading":"6.5.2 describe in the psych package","text":"psych package detailed list numerical summaries quantitative variables lets us look group observations .additional statistics presented :trimmed = trimmed mean (default function, removes top bottom 10% data, computes mean remaining values - middle 80% full data set.)mad = median absolute deviation (median), can used manner similar standard deviation IQR measure spread.\ndata \\(Y_1, Y_2, ..., Y_n\\), mad defined \\(median(|Y_i - median(Y_i)|)\\).\nfind mad set numbers, find median, subtract median value find absolute value difference, find median absolute differences.\nnon-normal data skewed shape tails well approximated Normal, mad likely better (robust) estimate spread standard deviation.\ndata \\(Y_1, Y_2, ..., Y_n\\), mad defined \\(median(|Y_i - median(Y_i)|)\\).find mad set numbers, find median, subtract median value find absolute value difference, find median absolute differences.non-normal data skewed shape tails well approximated Normal, mad likely better (robust) estimate spread standard deviation.measure skew, refers much asymmetry present shape distribution. measure nonparametric skew measure usually prefer. [Wikipedia page skewness][https://en.wikipedia.org/wiki/Skewness] detailed.measure excess kurtosis, refers outlier-prone, heavy-tailed shape distribution , compared Normal distribution.se = standard error sample mean, equal sample sd divided square root sample size.","code":"\npsych::describe(nh_750 %>% select(Age, BMI, SBP, DBP, Pulse))      vars   n   mean    sd median trimmed   mad  min   max\nAge      1 750  40.82 12.54   40.0   40.53 14.83 21.0  64.0\nBMI      2 745  29.08  7.24   27.9   28.31  5.93 16.7  80.6\nSBP      3 717 118.79 15.14  118.0  117.88 13.34 83.0 209.0\nDBP      4 717  72.69 11.34   73.0   72.65 10.38  0.0 108.0\nPulse    5 718  73.53 11.65   72.0   73.11 11.86 40.0 124.0\n      range  skew kurtosis   se\nAge    43.0  0.16    -1.15 0.46\nBMI    63.9  1.72     6.16 0.27\nSBP   126.0  0.96     3.10 0.57\nDBP   108.0 -0.28     2.59 0.42\nPulse  84.0  0.48     0.73 0.43"},{"path":"summarizing_quantities.html","id":"the-hmisc-packages-version-of-describe","chapter":"6 Summarizing Quantitative Variables","heading":"6.5.3 The Hmisc package’s version of describe","text":"Hmisc package’s version describe distribution data presents three new ideas, addition comprehensive list quartiles (5th, 10th, 25th, 50th, 75th, 90th 95th shown) lowest highest observations. :distinct - number different values observed data.Info - measure “continuous” variable , related many “ties” data, Info taking higher value (closer maximum one) data continuous.Gmd - Gini mean difference - robust measure spread calculated mean absolute difference pairs observations. Larger values Gmd indicate spread-distributions. (Gini pronounced either “Genie” “Ginny.”)","code":"\nHmisc::describe(nh_750 %>% select(Age, BMI, SBP, DBP, Pulse))nh_750 %>% select(Age, BMI, SBP, DBP, Pulse) \n\n 5  Variables      750  Observations\n------------------------------------------------------------\nAge \n       n  missing distinct     Info     Mean      Gmd \n     750        0       44    0.999    40.82    14.46 \n     .05      .10      .25      .50      .75      .90 \n      22       24       30       40       51       59 \n     .95 \n      62 \n\nlowest : 21 22 23 24 25, highest: 60 61 62 63 64\n------------------------------------------------------------\nBMI \n       n  missing distinct     Info     Mean      Gmd \n     745        5      250        1    29.08    7.538 \n     .05      .10      .25      .50      .75      .90 \n   20.22    21.30    24.20    27.90    32.10    37.60 \n     .95 \n   41.28 \n\nlowest : 16.7 17.6 17.8 17.9 18.0, highest: 59.1 62.8 63.3 69.0 80.6\n------------------------------------------------------------\nSBP \n       n  missing distinct     Info     Mean      Gmd \n     717       33       81    0.999    118.8    16.36 \n     .05      .10      .25      .50      .75      .90 \n    98.0    102.0    108.0    118.0    127.0    137.0 \n     .95 \n   144.2 \n\nlowest :  83  84  85  86  89, highest: 171 179 186 191 209\n------------------------------------------------------------\nDBP \n       n  missing distinct     Info     Mean      Gmd \n     717       33       66    0.999    72.69    12.43 \n     .05      .10      .25      .50      .75      .90 \n      55       59       66       73       80       86 \n     .95 \n      91 \n\nlowest :   0  25  41  42  44, highest: 104 105 106 107 108\n------------------------------------------------------------\nPulse \n       n  missing distinct     Info     Mean      Gmd \n     718       32       37    0.997    73.53    12.95 \n     .05      .10      .25      .50      .75      .90 \n      56       60       66       72       80       88 \n     .95 \n      94 \n\nlowest :  40  44  46  48  50, highest: 108 112 114 118 124\n------------------------------------------------------------"},{"path":"summarizing_quantities.html","id":"other-options","chapter":"6 Summarizing Quantitative Variables","heading":"6.5.4 Other options","text":"package summarytools function called dfSummary like Dominic Comtois also published Recommendations Using summarytools R Markdown. Note isn’t really Word documents.naniar package helpful wrangling visualizing missing values, checking imputations.DataExplorer can used automated exploratory data analyses (people also like skimr) visdat, well.df_stats function available mosaic package loaded allows run favstats multiple outcome variables simultaneously.","code":""},{"path":"summarizing-categorical-variables.html","id":"summarizing-categorical-variables","chapter":"7 Summarizing Categorical Variables","heading":"7 Summarizing Categorical Variables","text":"demonstrate key ideas Chapter, consider sample 750 adults ages 21-64 NHANES 2011-12 includes missing values. ’ll load nh_750 data frame information nh_adult750.Rds file created Section 4.2.Summarizing categorical variables numerically mostly building tables, calculating percentages proportions. ’ll save discussion modeling categorical data later. Recall nh_750 data set built Section 4.2 following categorical variables. number levels indicates number possible categories categorical variable.","code":"\nnh_750 <- read_rds(\"data/nh_adult750.Rds\")"},{"path":"summarizing-categorical-variables.html","id":"the-summary-function-for-categorical-data","chapter":"7 Summarizing Categorical Variables","heading":"7.1 The summary function for Categorical data","text":"R recognizes variable categorical, stores factor. variables get special treatment summary function, particular table available values (long aren’t many.)","code":"\nnh_750 %>%\n  select(Sex, Race, Education, PhysActive, Smoke100, \n         SleepTrouble, HealthGen, MaritalStatus) %>%\n  summary()     Sex            Race              Education  \n female:388   Asian   : 70   8th Grade     : 50  \n male  :362   Black   :128   9 - 11th Grade: 76  \n              Hispanic: 63   High School   :143  \n              Mexican : 80   Some College  :241  \n              White   :393   College Grad  :240  \n              Other   : 16                       \n PhysActive Smoke100  SleepTrouble     HealthGen  \n No :326    No :453   No :555      Excellent: 84  \n Yes:424    Yes:297   Yes:195      Vgood    :197  \n                                   Good     :252  \n                                   Fair     :104  \n                                   Poor     : 14  \n                                   NA's     : 99  \n      MaritalStatus\n Divorced    : 78  \n LivePartner : 70  \n Married     :388  \n NeverMarried:179  \n Separated   : 19  \n Widowed     : 16  "},{"path":"summarizing-categorical-variables.html","id":"tables-to-describe-one-categorical-variable","chapter":"7 Summarizing Categorical Variables","heading":"7.2 Tables to describe One Categorical Variable","text":"Suppose build table (using tabyl function janitor package) describe HealthGen distribution.Note missing (<NA>) values included valid_percent calculation, percent calculation. Note also use percentage formatting.want add total count, sometimes called marginal total?marital status, missing data sample?","code":"\nnh_750 %>%\n    tabyl(HealthGen) %>%\n    adorn_pct_formatting() HealthGen   n percent valid_percent\n Excellent  84   11.2%         12.9%\n     Vgood 197   26.3%         30.3%\n      Good 252   33.6%         38.7%\n      Fair 104   13.9%         16.0%\n      Poor  14    1.9%          2.2%\n      <NA>  99   13.2%             -\nnh_750 %>%\n    tabyl(HealthGen) %>%\n    adorn_totals() %>%\n    adorn_pct_formatting() HealthGen   n percent valid_percent\n Excellent  84   11.2%         12.9%\n     Vgood 197   26.3%         30.3%\n      Good 252   33.6%         38.7%\n      Fair 104   13.9%         16.0%\n      Poor  14    1.9%          2.2%\n      <NA>  99   13.2%             -\n     Total 750  100.0%        100.0%\nnh_750 %>%\n    tabyl(MaritalStatus) %>%\n    adorn_totals() %>%\n    adorn_pct_formatting() MaritalStatus   n percent\n      Divorced  78   10.4%\n   LivePartner  70    9.3%\n       Married 388   51.7%\n  NeverMarried 179   23.9%\n     Separated  19    2.5%\n       Widowed  16    2.1%\n         Total 750  100.0%"},{"path":"summarizing-categorical-variables.html","id":"the-mode-of-a-categorical-variable","chapter":"7 Summarizing Categorical Variables","heading":"7.3 The Mode of a Categorical Variable","text":"common measure applied categorical variable identify mode, frequently observed value. find mode variables lots categories (summary may sufficient), usually tabulate data, sort counts numbers observations, discrete quantitative variables.","code":"\nnh_750 %>%\n    group_by(HealthGen) %>%\n    summarise(count = n()) %>%\n    arrange(desc(count)) # A tibble: 6 x 2\n  HealthGen count\n  <fct>     <int>\n1 Good        252\n2 Vgood       197\n3 Fair        104\n4 <NA>         99\n5 Excellent    84\n6 Poor         14"},{"path":"summarizing-categorical-variables.html","id":"describe-in-the-hmisc-package","chapter":"7 Summarizing Categorical Variables","heading":"7.4 describe in the Hmisc package","text":"","code":"\nHmisc::describe(nh_750 %>% \n                    select(Sex, Race, Education, PhysActive, \n                           Smoke100, SleepTrouble, \n                           HealthGen, MaritalStatus))nh_750 %>% select(Sex, Race, Education, PhysActive, Smoke100, SleepTrouble, HealthGen, MaritalStatus) \n\n 8  Variables      750  Observations\n------------------------------------------------------------\nSex \n       n  missing distinct \n     750        0        2 \n                        \nValue      female   male\nFrequency     388    362\nProportion  0.517  0.483\n------------------------------------------------------------\nRace \n       n  missing distinct \n     750        0        6 \n\nlowest : Asian    Black    Hispanic Mexican  White   \nhighest: Black    Hispanic Mexican  White    Other   \n                                                       \nValue         Asian    Black Hispanic  Mexican    White\nFrequency        70      128       63       80      393\nProportion    0.093    0.171    0.084    0.107    0.524\n                   \nValue         Other\nFrequency        16\nProportion    0.021\n------------------------------------------------------------\nEducation \n       n  missing distinct \n     750        0        5 \n\nlowest : 8th Grade      9 - 11th Grade High School    Some College   College Grad  \nhighest: 8th Grade      9 - 11th Grade High School    Some College   College Grad  \n                                                       \nValue           8th Grade 9 - 11th Grade    High School\nFrequency              50             76            143\nProportion          0.067          0.101          0.191\n                                        \nValue        Some College   College Grad\nFrequency             241            240\nProportion          0.321          0.320\n------------------------------------------------------------\nPhysActive \n       n  missing distinct \n     750        0        2 \n                      \nValue         No   Yes\nFrequency    326   424\nProportion 0.435 0.565\n------------------------------------------------------------\nSmoke100 \n       n  missing distinct \n     750        0        2 \n                      \nValue         No   Yes\nFrequency    453   297\nProportion 0.604 0.396\n------------------------------------------------------------\nSleepTrouble \n       n  missing distinct \n     750        0        2 \n                    \nValue        No  Yes\nFrequency   555  195\nProportion 0.74 0.26\n------------------------------------------------------------\nHealthGen \n       n  missing distinct \n     651       99        5 \n\nlowest : Excellent Vgood     Good      Fair      Poor     \nhighest: Excellent Vgood     Good      Fair      Poor     \n                                                  \nValue      Excellent     Vgood      Good      Fair\nFrequency         84       197       252       104\nProportion     0.129     0.303     0.387     0.160\n                    \nValue           Poor\nFrequency         14\nProportion     0.022\n------------------------------------------------------------\nMaritalStatus \n       n  missing distinct \n     750        0        6 \n\nlowest : Divorced     LivePartner  Married      NeverMarried Separated   \nhighest: LivePartner  Married      NeverMarried Separated    Widowed     \n                                                 \nValue          Divorced  LivePartner      Married\nFrequency            78           70          388\nProportion        0.104        0.093        0.517\n                                                 \nValue      NeverMarried    Separated      Widowed\nFrequency           179           19           16\nProportion        0.239        0.025        0.021\n------------------------------------------------------------"},{"path":"summarizing-categorical-variables.html","id":"cross-tabulations","chapter":"7 Summarizing Categorical Variables","heading":"7.5 Cross-Tabulations","text":"common us want describe association one categorical variable another. instance, relationship Education SleepTrouble data?Note use adorn_totals get marginal counts, specify want row column totals. can add title columns …Often, ’ll want show percentages cross-tabulation like . get row percentages can directly see probability SleepTrouble = Yes level Education, can use:want compare distribution Education two levels SleepTrouble column percentages, can use following…want overall percentages cells table, total across combinations Education SleepTrouble 100%, can use:Another common approach include counts percentages cross-tabulation. Let’s look breakdown HealthGen MaritalStatus.wanted ignore missing HealthGen values? often, filter complete observations.working tabyls, see vignette janitor package. ’ll find complete list adorn functions, example.’s another approach, look cross-classification Race HealthGen:","code":"\nnh_750 %>%\n    tabyl(Education, SleepTrouble) %>%\n    adorn_totals(where = c(\"row\", \"col\"))       Education  No Yes Total\n      8th Grade  40  10    50\n 9 - 11th Grade  52  24    76\n    High School 102  41   143\n   Some College 173  68   241\n   College Grad 188  52   240\n          Total 555 195   750\nnh_750 %>%\n    tabyl(Education, SleepTrouble) %>%\n    adorn_totals(where = c(\"row\", \"col\")) %>%\n    adorn_title(placement = \"combined\") Education/SleepTrouble  No Yes Total\n              8th Grade  40  10    50\n         9 - 11th Grade  52  24    76\n            High School 102  41   143\n           Some College 173  68   241\n           College Grad 188  52   240\n                  Total 555 195   750\nnh_750 %>%\n    tabyl(Education, SleepTrouble) %>%\n    adorn_totals(where = \"row\") %>%\n    adorn_percentages(denominator = \"row\") %>%\n    adorn_pct_formatting() %>%\n    adorn_title(placement = \"combined\") Education/SleepTrouble    No   Yes\n              8th Grade 80.0% 20.0%\n         9 - 11th Grade 68.4% 31.6%\n            High School 71.3% 28.7%\n           Some College 71.8% 28.2%\n           College Grad 78.3% 21.7%\n                  Total 74.0% 26.0%\nnh_750 %>%\n    tabyl(Education, SleepTrouble) %>%\n    adorn_totals(where = \"col\") %>%\n    adorn_percentages(denominator = \"col\") %>%\n    adorn_pct_formatting() %>%\n    adorn_title(placement = \"combined\")  Education/SleepTrouble    No   Yes Total\n              8th Grade  7.2%  5.1%  6.7%\n         9 - 11th Grade  9.4% 12.3% 10.1%\n            High School 18.4% 21.0% 19.1%\n           Some College 31.2% 34.9% 32.1%\n           College Grad 33.9% 26.7% 32.0%\nnh_750 %>%\n    tabyl(Education, SleepTrouble) %>%\n    adorn_totals(where = c(\"row\", \"col\")) %>%\n    adorn_percentages(denominator = \"all\") %>%\n    adorn_pct_formatting() %>%\n    adorn_title(placement = \"combined\")  Education/SleepTrouble    No   Yes  Total\n              8th Grade  5.3%  1.3%   6.7%\n         9 - 11th Grade  6.9%  3.2%  10.1%\n            High School 13.6%  5.5%  19.1%\n           Some College 23.1%  9.1%  32.1%\n           College Grad 25.1%  6.9%  32.0%\n                  Total 74.0% 26.0% 100.0%\nnh_750 %>%\n    tabyl(MaritalStatus, HealthGen) %>%\n    adorn_totals(where = c(\"row\")) %>%\n    adorn_percentages(denominator = \"row\") %>%\n    adorn_pct_formatting() %>%\n    adorn_ns(position = \"front\") %>%\n    adorn_title(placement = \"combined\") %>%\n    knitr::kable()\nnh_750 %>%\n    filter(complete.cases(MaritalStatus, HealthGen)) %>%\n    tabyl(MaritalStatus, HealthGen) %>%\n    adorn_totals(where = c(\"row\")) %>%\n    adorn_percentages(denominator = \"row\") %>%\n    adorn_pct_formatting() %>%\n    adorn_ns(position = \"front\") %>%\n    adorn_title(placement = \"combined\") MaritalStatus/HealthGen  Excellent       Vgood        Good\n                Divorced  7 (10.1%)  19 (27.5%)  29 (42.0%)\n             LivePartner  4  (6.1%)  19 (28.8%)  25 (37.9%)\n                 Married 46 (14.2%) 101 (31.2%) 130 (40.1%)\n            NeverMarried 25 (15.6%)  52 (32.5%)  56 (35.0%)\n               Separated  2 (11.8%)   3 (17.6%)   4 (23.5%)\n                 Widowed  0  (0.0%)   3 (20.0%)   8 (53.3%)\n                   Total 84 (12.9%) 197 (30.3%) 252 (38.7%)\n        Fair       Poor\n  11 (15.9%)  3  (4.3%)\n  18 (27.3%)  0  (0.0%)\n  41 (12.7%)  6  (1.9%)\n  24 (15.0%)  3  (1.9%)\n   8 (47.1%)  0  (0.0%)\n   2 (13.3%)  2 (13.3%)\n 104 (16.0%) 14  (2.2%)\nxtabs(~ Race + HealthGen, data = nh_750)          HealthGen\nRace       Excellent Vgood Good Fair Poor\n  Asian           10    17   24    6    1\n  Black           15    28   40   24    4\n  Hispanic         4     9   24   13    2\n  Mexican          6    12   25   21    2\n  White           48   128  131   37    5\n  Other            1     3    8    3    0"},{"path":"summarizing-categorical-variables.html","id":"cross-classifying-three-categorical-variables","chapter":"7 Summarizing Categorical Variables","heading":"7.5.1 Cross-Classifying Three Categorical Variables","text":"Suppose interested Smoke100 relationship PhysActive SleepTrouble.result tabyl Smoke100 (rows) PhysActive (columns), split list SleepTrouble. Another approach get table :can also build flat version table, follows:can dplyr functions, well, example…","code":"\nnh_750 %>%\n    tabyl(Smoke100, PhysActive, SleepTrouble) %>%\n    adorn_title(placement = \"top\")$No\n          PhysActive    \n Smoke100         No Yes\n       No        137 219\n      Yes         93 106\n\n$Yes\n          PhysActive    \n Smoke100         No Yes\n       No         41  56\n      Yes         55  43\nxtabs(~ Smoke100 + PhysActive + SleepTrouble, data = nh_750), , SleepTrouble = No\n\n        PhysActive\nSmoke100  No Yes\n     No  137 219\n     Yes  93 106\n\n, , SleepTrouble = Yes\n\n        PhysActive\nSmoke100  No Yes\n     No   41  56\n     Yes  55  43\nftable(Smoke100 ~ PhysActive + SleepTrouble, data = nh_750)                        Smoke100  No Yes\nPhysActive SleepTrouble                 \nNo         No                    137  93\n           Yes                    41  55\nYes        No                    219 106\n           Yes                    56  43\nnh_750 %>%\n    select(Smoke100, PhysActive, SleepTrouble) %>%\n    table() , , SleepTrouble = No\n\n        PhysActive\nSmoke100  No Yes\n     No  137 219\n     Yes  93 106\n\n, , SleepTrouble = Yes\n\n        PhysActive\nSmoke100  No Yes\n     No   41  56\n     Yes  55  43"},{"path":"summarizing-categorical-variables.html","id":"constructing-tables-well","chapter":"7 Summarizing Categorical Variables","heading":"7.6 Constructing Tables Well","text":"prolific Howard Wainer responsible many interesting books visualization related issues, including Howard Wainer23 Howard Wainer.24 rules come Chapter 10 Howard Wainer.25Order rows columns way makes sense.Round, lot!different important","code":""},{"path":"summarizing-categorical-variables.html","id":"alabama-first","chapter":"7 Summarizing Categorical Variables","heading":"7.6.1 Alabama First!","text":"Tables useful ?2013 Percent Students grades 9-12 obeseor …rare event Alabama first best choice.","code":""},{"path":"summarizing-categorical-variables.html","id":"order-rows-and-columns-sensibly","chapter":"7 Summarizing Categorical Variables","heading":"7.6.2 Order rows and columns sensibly","text":"Alabama First!\nSize places - put largest first. often look carefully top.\nSize places - put largest first. often look carefully top.Order time past future help viewer.clear predictor-outcome relationship, put predictors rows outcomes columns.","code":""},{"path":"summarizing-categorical-variables.html","id":"round---a-lot","chapter":"7 Summarizing Categorical Variables","heading":"7.6.3 Round - a lot!","text":"Humans understand two digits easily.almost never care accuracy two digits.can almost never justify two digits accuracy statistically.’s also helpful remember almost invariably publishing progress date, rather truly final answer.Suppose, instance, report correlation coefficient 0.25. many observations think need justify choice?report 0.25 meaningfully, want sure second digit isn’t 4 6.requires standard error less 0.005The standard error statistic proportional 1 square root sample size, n.\\(\\frac{1}{\\sqrt{n}}\\) ~ 0.005, means \\(\\sqrt{n} = \\frac{1}{0.005} = 200\\). \\(\\sqrt{n} = 200\\), n = (200)2 = 40,000.usually 40,000 observations?","code":""},{"path":"summarizing-categorical-variables.html","id":"all-is-different-and-important","chapter":"7 Summarizing Categorical Variables","heading":"7.6.4 ALL is different and important","text":"Summaries rows columns provide measure typical usual. Sometimes sum helpful, times, consider presenting median summary. category, Wainer26 suggests, visually different individual entries set spatially apart.whole, ’s far easier fall good graph R (least ggplot2 skills) produce good table.","code":""},{"path":"summarizing-categorical-variables.html","id":"gaining-control-over-tables-in-r-the-gt-package","chapter":"7 Summarizing Categorical Variables","heading":"7.7 Gaining Control over Tables in R: the gt package","text":"gt package, anyone can make wonderful-looking tables using R programming language. gt package allows start tibble data frame, use make detailed tables look professional, includes tools enable include titles subtitles, sorts labels, well footnotes source notes.gt package described substantial detail https://gt.rstudio.com/.","code":""},{"path":"references.html","id":"references","chapter":"References","heading":"References","text":"","code":""}]
