[{"path":"index.html","id":"working-with-these-notes","chapter":"Working with These Notes","heading":"Working with These Notes","text":"document broken multiple chapters. Use table contents left side screen navigate chapters, use right side navigate within current chapter.can also search document, using automated index.code provided document can copied clipboard using Copy icon top right code block.document updated (unpredictably) throughout semester.","code":""},{"path":"index.html","id":"the-431-course-online","chapter":"Working with These Notes","heading":"The 431 Course online","text":"main web page 431 course Fall 2021 https://thomaselove.github.io/431/. Go information related course.","code":""},{"path":"index.html","id":"what-youll-find-here","chapter":"Working with These Notes","heading":"What You’ll Find Here","text":"Notes provide series examples using R work issues likely come PQHS/CRSP/MPHP 431. mostly find brief explanations key idea summary, accompanied (time) R code demonstration results applying code.Notes share features textbook, neither comprehensive completely original. main purpose give 431 students set common materials draw course. class, sometimes:reiterate points made document,amplify ,simplify presentation things done ,use new examples show techniques,refer issues mentioned document,don’t follow notes precisely. assume instead read materials try learn , just attend classes try learn . welcome feedback kinds document anything else.Everything see available HTML PDF. also access R Markdown files, contain code generates everything document, including R results. demonstrate use R Markdown (document generated additional help R package called bookdown) RStudio (“program” use interface R language) class.data R code related notes also available .","code":""},{"path":"index.html","id":"setting-up-r","chapter":"Working with These Notes","heading":"Setting Up R","text":"Notes make extensive use ofthe statistical software language R, andthe development environment R Studio,free, ’ll need install machine. Instructions found course syllabus.need even gentler introduction, ’re just new R RStudio need learn , encourage take look http://moderndive.com/, provides introduction statistical data sciences via R Chester Ismay Albert Y. Kim.1These notes written using R Markdown. R Markdown, like R R Studio, free open source.R Markdown described authoring framework data science, lets yousave execute R codegenerate high-quality reports can shared audienceThis description comes http://rmarkdown.rstudio.com/lesson-1.html can visit get overview quick tour ’s possible R Markdown.Another excellent resource learn R Markdown tools Communicate section (especially R Markdown chapter) Garrett Grolemund Hadley Wickham.2","code":""},{"path":"index.html","id":"initial-setup-of-r-packages","chapter":"Working with These Notes","heading":"Initial Setup of R Packages","text":"start, ’ll present series commands run (silently) beginning chapter Notes. particular commands set R use several packages (libraries) functions expand capabilities, make specific change want R output displayed (’s comment = NA piece) sets theme graphs build one called theme_bw(). chunk code like occur near top R Markdown work.deliberately set list loaded packages relatively small. need install package , need reload every time start new session.","code":"\nknitr::opts_chunk$set(comment = NA)\n\nlibrary(knitr)\nlibrary(magrittr)\nlibrary(janitor)\nlibrary(NHANES)\nlibrary(palmerpenguins)\nlibrary(patchwork)\nlibrary(rms)\nlibrary(mosaic)\nlibrary(Epi)\nlibrary(naniar)\nlibrary(broom) # note: tidymodels includes the broom package\nlibrary(tidyverse) # note: tidyverse includes the dplyr and ggplot2 packages\n\ntheme_set(theme_bw())"},{"path":"index.html","id":"the-love-boost.r-script","chapter":"Working with These Notes","heading":"The Love-boost.R script","text":"Starting October, ’ll make use scripts ’ve gathered . necessary, ’ll source code using following command…","code":"\nsource(\"data/Love-boost.R\")"},{"path":"index.html","id":"additional-r-packages-installed-for-this-book","chapter":"Working with These Notes","heading":"Additional R Packages installed for this book","text":"packages need installed user’s system, need loaded R order run code presented set notes later. additional packages include following.","code":"boot\ncar\nGGally\ngt\npsych\nmodelsummary\nvisdat"},{"path":"data-science.html","id":"data-science","chapter":"1 Data Science","heading":"1 Data Science","text":"definition data science can little slippery. One current view data science, exemplified Steven Geringer’s 2014 Venn diagram.\nFigure 1.1: Data Science Venn Diagram Steven Geringer\nfield encompasses ideas mathematics statistics computer science, heavy reliance subject-matter knowledge. case, includes clinical, health-related, medical biological knowledge.Andrew Gelman Deborah Nolan3 suggest, experience intuition necessary good statistical practice hard obtain, teaching data science provides excellent opportunity reinforce statistical thinking skills across full cycle data analysis project.principal form computer science (coding/programming) play role course provide form communication. ’ll need learn express ideas just orally writing, also code.Data Science team activity. Everyone working data science brings part necessary skillset, one person can cover three areas alone excellent projects.[individual truly expert three key areas (mathematics/statistics, computer science subject-matter knowledge) ] mythical beast magical powers ’s rumored exist never actually seen wild.http://www.kdnuggets.com/2016/10/battle-data-science-venn-diagrams.html","code":""},{"path":"data-science.html","id":"data-science-project-cycle","chapter":"1 Data Science","heading":"1.1 Data Science Project Cycle","text":"typical data science project can modeled follows, comes introduction amazing book R Data Science, Garrett Grolemund Hadley Wickham, key text course.4\nFigure 1.2: Source: R Data Science: Introduction\ndiagram sometimes referred Krebs Cycle Data Science. steps data science project, encourage read Introduction Grolemund Wickham.5","code":""},{"path":"data-science.html","id":"data-science-and-the-431-course","chapter":"1 Data Science","heading":"1.2 Data Science and the 431 Course","text":"’ll discuss elements 431 course, focusing start understanding data transformation, modeling (especially early stages) visualization. 431, learn get things done.get people working R R Studio R Markdown, even completely new coding. gentle introduction provided Ismay Kim6We learn use tidyverse (http://www.tidyverse.org/), array tools R (mostly developed Hadley Wickham colleagues R Studio) share underlying philosophy make data science faster, easier, reproducible fun. critical text understanding tidyverse Grolemund Wickham.7 Tidyverse tools facilitate:\nimporting data R, can source intense pain things, really quite easy 95% time right tool.\ntidying data, , storing format includes one row per observation one column per variable. harder, important, might think.\ntransforming data, perhaps identifying specific subgroups interest, creating new variables based existing ones, calculating summaries.\nvisualizing data generate actual knowledge identify questions data - area R really shines, ’ll start class.\nmodeling data, taking approach modeling complementary visualization, allows us answer questions visualization helps us identify.\nlast, definitely least, communicating results, models visualizations others, way reproducible effective.\nimporting data R, can source intense pain things, really quite easy 95% time right tool.tidying data, , storing format includes one row per observation one column per variable. harder, important, might think.transforming data, perhaps identifying specific subgroups interest, creating new variables based existing ones, calculating summaries.visualizing data generate actual knowledge identify questions data - area R really shines, ’ll start class.modeling data, taking approach modeling complementary visualization, allows us answer questions visualization helps us identify.last, definitely least, communicating results, models visualizations others, way reproducible effective.programming/coding inevitable requirement accomplish aims. leery coding, ’ll need get past , help course stellar teaching assistants. Getting started always challenging part, experience pain developing new skills evaporates early October.","code":""},{"path":"data-science.html","id":"what-the-course-is-and-isnt","chapter":"1 Data Science","heading":"1.3 What The Course Is and Isn’t","text":"431 course getting things done. developing course, adopt modern approach places data center work. goal teach truly reproducible research modern tools. want able collect use data effectively address questions interest.curriculum includes several topics might expect standard graduate introduction biostatistics.data gatheringdata wranglingexploratory data analysis visualizationmultivariate modelingcommunicationIt also nearly completely avoids formalism extremely applied - absolutely course theoretical mathematical statistics, Notes reflect approach.’s little mathematical underpinnings :\\[\nf(x) = \\frac{e^{-(x - \\mu)^{2}/(2\\sigma^{2})}}{\\sigma{\\sqrt{2 \\pi }}} \n\\]Instead, notes (course) focus get R things want , interpret results work. next Chapter provides first example.","code":""},{"path":"looking-at-the-palmer-penguins.html","id":"looking-at-the-palmer-penguins","chapter":"2 Looking at the Palmer Penguins","heading":"2 Looking at the Palmer Penguins","text":"data palmerpenguins package R include size measurements, clutch observations, blood isotope ratios adult foraging Adélie, Chinstrap, Gentoo penguins observed islands Palmer Archipelago near Palmer Station, Antarctica. data collected made available Dr. Kristen Gorman Palmer Station Long Term Ecological Research (LTER) Program.palmerpenguins package, visit https://allisonhorst.github.io/palmerpenguins/.","code":""},{"path":"looking-at-the-palmer-penguins.html","id":"package-loading-then-dealing-with-missing-data","chapter":"2 Looking at the Palmer Penguins","heading":"2.1 Package Loading, then Dealing with Missing Data","text":"start, let’s load necessary R packages manage data summarize small table, plot. ’ve actually done previously, ’ll repeat steps , ’s worth seeing R .case, ’ll load five packages.’s worth remembering everything # line just comment reader, ignored R. ’ll see later loading single package (called tidyverse) gives us dplyr ggplot2 packages, well several useful things.Next, let’s take penguins data palmerpenguins package, identify observations complete data (, missing values) four variables interest. ’ll store result new data frame (think data set) called new_penguins take look result using following code.","code":"\nlibrary(palmerpenguins)  # source for the data set\nlibrary(janitor)         # some utilities for cleanup and simple tables\nlibrary(magrittr)        # provides us with the pipe %>% for code management\nlibrary(dplyr)           # part of the tidyverse: data management tools\nlibrary(ggplot2)         # part of the tidyverse: tools for plotting data\nnew_penguins <- penguins %>%\n    filter(complete.cases(flipper_length_mm, body_mass_g, species, sex))\n\nnew_penguins# A tibble: 333 x 8\n   species island    bill_length_mm bill_depth_mm\n   <fct>   <fct>              <dbl>         <dbl>\n 1 Adelie  Torgersen           39.1          18.7\n 2 Adelie  Torgersen           39.5          17.4\n 3 Adelie  Torgersen           40.3          18  \n 4 Adelie  Torgersen           36.7          19.3\n 5 Adelie  Torgersen           39.3          20.6\n 6 Adelie  Torgersen           38.9          17.8\n 7 Adelie  Torgersen           39.2          19.6\n 8 Adelie  Torgersen           41.1          17.6\n 9 Adelie  Torgersen           38.6          21.2\n10 Adelie  Torgersen           34.6          21.1\n# ... with 323 more rows, and 4 more variables:\n#   flipper_length_mm <int>, body_mass_g <int>, sex <fct>,\n#   year <int>"},{"path":"looking-at-the-palmer-penguins.html","id":"counting-things-and-making-tables","chapter":"2 Looking at the Palmer Penguins","heading":"2.2 Counting Things and Making Tables","text":", many penguins new_penguins data? printed result, got answer, (many things R) many ways get result.new_penguins data break sex species?Note strange spelling tabyl . output reasonably clear, make table little prettier, ’re , can add row column totals ?","code":"\nnrow(new_penguins)[1] 333\nnew_penguins %>% \n    tabyl(sex, species) # tabyl comes from the janitor package    sex Adelie Chinstrap Gentoo\n female     73        34     58\n   male     73        34     61\nnew_penguins %>% \n    tabyl(sex, species) %>%\n    adorn_totals(where = c(\"row\", \"col\")) %>% # add row, column totals\n    kable  # one convenient way to make the table prettier"},{"path":"looking-at-the-palmer-penguins.html","id":"visualizing-the-data-in-a-graph-or-a-few","chapter":"2 Looking at the Palmer Penguins","heading":"2.3 Visualizing the Data in a Graph (or a few…)","text":"Now, let’s look two variables interest. Let’s create graph showing association body mass flipper length across complete set 333 penguins.may want include straight-line model (fit classical linear regression) plot. One way R involves addition single line code, like :Whenever build graph , default choices may sufficient. ’d like see prettier version going show someone else. , might use different color species, might neaten theme (get rid default grey background) add title, like .","code":"\nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm)) +\n    geom_point() \nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm)) +\n    geom_point() +\n    geom_smooth(method = \"lm\", formula = y ~ x,\n                col = \"red\", se = FALSE)\nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm, col = species)) +\n    geom_point() + \n    theme_bw() + \n    labs(title = \"Flipper Length and Body Mass for 333 of the Palmer Penguins\")"},{"path":"looking-at-the-palmer-penguins.html","id":"six-ways-to-improve-this-graph","chapter":"2 Looking at the Palmer Penguins","heading":"2.4 Six Ways To “Improve” This Graph","text":"Now, let’s build new graph. , want :plot relationship body mass flipper length light Sex Speciesincrease size points add little transparency can see points overlap,add smooth curves summarize relationships two quantities (body mass flipper length) within combination species sex,split graph two “facets” (one sex),improve axis labels,improve titles adding subtitle, also adding code count penguins (rather hard-coding total number.)","code":"\nggplot(new_penguins, aes(x = body_mass_g, y = flipper_length_mm, \n                         col = species)) +\n    geom_point(size = 2, alpha = 0.5) + \n    geom_smooth(method = \"loess\", formula = y ~ x, \n                se = FALSE, size = 1.5) +\n    facet_grid(~ sex) +\n    theme_bw() + \n    labs(title = \"Flipper Length and Body Mass, by Sex & Species\",\n         subtitle = paste0(nrow(new_penguins), \" of the Palmer Penguins\"),\n         x = \"Body Mass (g)\", \n         y = \"Flipper Length (mm)\")"},{"path":"looking-at-the-palmer-penguins.html","id":"a-little-reflection","chapter":"2 Looking at the Palmer Penguins","heading":"2.5 A Little Reflection","text":"can learn plots construction? particular,plots suggest center distribution quantity (body mass flipper length) overall, within combination Sex Species?final plot suggest spread distribution quantities combination Sex Species?plots suggest association body mass flipper length across complete set penguins?shape nature body mass - flipper length relationship change based Sex Species?think helpful plot straight-line relationship (rather smooth curve) within combination Sex Species final plot? ? (Also, code accomplish ?)R code plot revised accomplish six “wants” specified ?","code":""},{"path":"nhanes1.html","id":"nhanes1","chapter":"3 NHANES: Initial Exploring","heading":"3 NHANES: Initial Exploring","text":"Next, ’ll explore data US National Health Nutrition Examination Survey, NHANES.’ll display R code go, ’ll return key coding ideas involved later Notes.","code":""},{"path":"nhanes1.html","id":"the-nhanes-data-a-first-sample","chapter":"3 NHANES: Initial Exploring","heading":"3.1 The NHANES data: A First Sample","text":"NHANES package provides sample 10,000 NHANES responses 2009-10 2011-12 administrations, data frame also called NHANES. can obtain dimensions data frame (think rectangle data) dim() function.see 10000 rows 76 columns NHANES data frame.moment, let’s gather random sample 1,000 responses 10000 rows listed NHANES data frame, look three variables (labeled Gender, Age Height) describe subjects8. motivation example came Figure Benjamin S. Baumer, Daniel T. Kaplan, Nicholas J. Horton.9We 1000 rows (observations) 5 columns (variables) describe responses listed rows.","code":"\ndim(NHANES)[1] 10000    76\n# library(NHANES) # already loaded NHANES package/library of functions, data\n\nset.seed(431001) \n# use set.seed to ensure that we all get the same random sample \n# of 1,000 NHANES subjects in our nh_1 collection\n\nnh_1 <- \n    slice_sample(NHANES, n = 1000, replace = FALSE) %>%\n    select(ID, SurveyYr, Gender, Age, Height)\n\nnh_1# A tibble: 1,000 x 5\n      ID SurveyYr Gender   Age Height\n   <int> <fct>    <fct>  <int>  <dbl>\n 1 69638 2011_12  female     5   106.\n 2 70782 2011_12  male      64   176.\n 3 52408 2009_10  female    54   162.\n 4 59031 2009_10  female    15   155.\n 5 64530 2011_12  male      53   185.\n 6 71040 2011_12  male      63   169.\n 7 55186 2009_10  female    30   168.\n 8 60211 2009_10  male       5   103.\n 9 55730 2009_10  male      66   161.\n10 68229 2011_12  female    36   170.\n# ... with 990 more rows"},{"path":"nhanes1.html","id":"a-quick-numerical-summary","chapter":"3 NHANES: Initial Exploring","heading":"3.2 A Quick Numerical Summary","text":"two variables R recognizes describing categories, SurveyYr Gender, numeric summary provides small table counts. Age Height variables, see minimum, mean, maximum summary statistics.","code":"\nsummary(nh_1)       ID           SurveyYr      Gender         Age       \n Min.   :51624   2009_10:512   female:504   Min.   : 0.00  \n 1st Qu.:57011   2011_12:488   male  :496   1st Qu.:18.00  \n Median :61979                              Median :36.00  \n Mean   :61903                              Mean   :37.42  \n 3rd Qu.:67178                              3rd Qu.:56.00  \n Max.   :71875                              Max.   :80.00  \n                                                           \n     Height     \n Min.   : 85.0  \n 1st Qu.:156.2  \n Median :165.0  \n Mean   :162.3  \n 3rd Qu.:174.5  \n Max.   :195.9  \n NA's   :37     "},{"path":"nhanes1.html","id":"plotting-age-vs.-height","chapter":"3 NHANES: Initial Exploring","heading":"3.3 Plotting Age vs. Height","text":"Suppose want visualize relationship Height Age 1,000 NHANES observations. best choice likely scatterplot.note several interesting results .warning, R tells us “Removed 37 rows containing missing values (geom_point).” 963 subjects plotted , remaining 37 people missing (NA) values either Height, Age .Unsurprisingly, measured Heights subjects grow Age 0 Age 20 , see typical Height increases rapidly across Ages. middle distribution later Ages pretty consistent Height somewhere 150 175. units aren’t specified, expect must centimeters. Ages clearly reported Years.Age reported 80, appears large cluster Ages 80. may due requirement Ages 80 reported 80 help mask identity individuals.10As case, ’re going build visualizations using tools ggplot2 package, part tidyverse series packages. ’ll see similar coding structures throughout Chapter, covered well Chapter 3 Grolemund Wickham.11","code":"\nggplot(data = nh_1, aes(x = Age, y = Height)) +\n    geom_point()Warning: Removed 37 rows containing missing values\n(geom_point)."},{"path":"nhanes1.html","id":"restriction-to-complete-cases","chapter":"3 NHANES: Initial Exploring","heading":"3.4 Restriction to Complete Cases","text":"move , let’s manipulate data frame bit, focus subjects complete data Age Height. help us avoid warning message.Note units explanations variables contained NHANES help file, available via typing ?NHANES Console R Studio, typing NHANES Search bar R Studio’s Help window.","code":"\nnh_1cc <- nh_1 %>%\n    filter(complete.cases(Age, Height)) \n\nsummary(nh_1cc)       ID           SurveyYr      Gender         Age       \n Min.   :51624   2009_10:487   female:484   Min.   : 2.00  \n 1st Qu.:57034   2011_12:476   male  :479   1st Qu.:19.00  \n Median :62056                              Median :37.00  \n Mean   :61967                              Mean   :38.29  \n 3rd Qu.:67269                              3rd Qu.:56.00  \n Max.   :71875                              Max.   :80.00  \n     Height     \n Min.   : 85.0  \n 1st Qu.:156.2  \n Median :165.0  \n Mean   :162.3  \n 3rd Qu.:174.5  \n Max.   :195.9  "},{"path":"nhanes1.html","id":"the-distinction-between-gender-and-sex","chapter":"3 NHANES: Initial Exploring","heading":"3.5 The Distinction between Gender and Sex","text":"Gender variable mis-named. data refer biological status subjects, Sex, social construct Gender can quite different. effort avoid confusion, ’ll rename variable Gender Sex accurately describe actually measured ., can use approach…’s better. many observations now? use dim find number rows columns new data frame., simply list data frame read result.","code":"\nnh_1cc <- nh_1 %>%\n    rename(Sex = Gender) %>%\n    filter(complete.cases(Age, Height)) \n\nsummary(nh_1cc)       ID           SurveyYr       Sex           Age       \n Min.   :51624   2009_10:487   female:484   Min.   : 2.00  \n 1st Qu.:57034   2011_12:476   male  :479   1st Qu.:19.00  \n Median :62056                              Median :37.00  \n Mean   :61967                              Mean   :38.29  \n 3rd Qu.:67269                              3rd Qu.:56.00  \n Max.   :71875                              Max.   :80.00  \n     Height     \n Min.   : 85.0  \n 1st Qu.:156.2  \n Median :165.0  \n Mean   :162.3  \n 3rd Qu.:174.5  \n Max.   :195.9  \ndim(nh_1cc)[1] 963   5\nnh_1cc# A tibble: 963 x 5\n      ID SurveyYr Sex      Age Height\n   <int> <fct>    <fct>  <int>  <dbl>\n 1 69638 2011_12  female     5   106.\n 2 70782 2011_12  male      64   176.\n 3 52408 2009_10  female    54   162.\n 4 59031 2009_10  female    15   155.\n 5 64530 2011_12  male      53   185.\n 6 71040 2011_12  male      63   169.\n 7 55186 2009_10  female    30   168.\n 8 60211 2009_10  male       5   103.\n 9 55730 2009_10  male      66   161.\n10 68229 2011_12  female    36   170.\n# ... with 953 more rows"},{"path":"nhanes1.html","id":"age-height-by-sex","chapter":"3 NHANES: Initial Exploring","heading":"3.6 Age-Height by Sex?","text":"Let’s add Sex plot using color, also adjust y axis label incorporate units measurement.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() +\n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\")"},{"path":"nhanes1.html","id":"can-we-show-the-female-and-male-relationships-in-separate-panels","chapter":"3 NHANES: Initial Exploring","heading":"3.6.1 Can we show the Female and Male relationships in separate panels?","text":"Sure.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() + \n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\") +\n    facet_wrap(~ Sex)"},{"path":"nhanes1.html","id":"can-we-add-a-smooth-curve-to-show-the-relationship-in-each-plot","chapter":"3 NHANES: Initial Exploring","heading":"3.6.2 Can we add a smooth curve to show the relationship in each plot?","text":"Yes, adding call geom_smooth() function.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() + \n    geom_smooth(method = \"loess\", formula = y ~ x) +\n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\") +\n    facet_wrap(~ Sex)"},{"path":"nhanes1.html","id":"what-if-we-want-to-assume-straight-line-relationships","chapter":"3 NHANES: Initial Exploring","heading":"3.6.3 What if we want to assume straight line relationships?","text":"look linear model part plot instead. make sense ?seems like complex relationship Height Age isn’t well described straight line model.Next, ’ll select new sample NHANES respondents bit carefully, introduce new ways thinking data variables, ’ll study subjects greater detail.","code":"\nggplot(data = nh_1cc, aes(x = Age, y = Height, color = Sex)) +\n    geom_point() + \n    geom_smooth(method = \"lm\", formula = y ~ x) +\n    labs(title = \"Height-Age Relationship in NHANES sample\", \n         y = \"Height in cm.\") +\n    facet_wrap(~ Sex)"},{"path":"data-structures-and-types-of-variables.html","id":"data-structures-and-types-of-variables","chapter":"4 Data Structures and Types of Variables","heading":"4 Data Structures and Types of Variables","text":"","code":""},{"path":"data-structures-and-types-of-variables.html","id":"data-require-structure-and-context","chapter":"4 Data Structures and Types of Variables","heading":"4.1 Data require structure and context","text":"Descriptive statistics concerned presentation, organization summary data, suggested Geoffrey R. Norman David L. Streiner.12 includes various methods organizing graphing data get idea data can tell us.Eric Vittinghoff et al.13 suggest, nature measurement determines best describe statistically, main distinction numerical categorical variables. Even little tricky - plenty data can values look like numerical values, just numerals serving labels.David E. Bock, Paul F. Velleman, Richard D. De Veaux14 point , truly critical notion, course, data values, matter kind, useless without contexts. Five W’s (, [units], , , , often ) just useful establishing context data journalism. can’t answer , particular, don’t useful information.general, row data frame corresponds individual (respondent, experimental unit, record, observation) characteristics gathered columns (characteristics may called variables, factors data elements.) Every column / variable name indicates measuring, every row / observation name indicates measured.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"newNHANES","chapter":"4 Data Structures and Types of Variables","heading":"4.2 Sampling Adults in NHANES","text":"Chapter 3, spent time sample National Health Nutrition Examination. Now, changing value set.seed function determines starting place random sampling, changing specifications, ’ll generate new sample describing 750 unique (distinct) adult subjects completed 2011-12 version survey ages 21 64.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"creating-a-temporary-cleaner-data-frame","chapter":"4 Data Structures and Types of Variables","heading":"4.2.1 Creating a Temporary, Cleaner Data Frame","text":"’ll start describing plan use create new data frame called nh_temp eventually build final sample. particular, let lay steps use create nh_temp frame original NHANES data frame available R package called NHANES.’ll filter original NHANES data frame include responses 2011-12 administration survey. cut sample half, 10,000 rows 5,000.’ll filter original NHANES data frame include responses 2011-12 administration survey. cut sample half, 10,000 rows 5,000.’ll filter restrict sample adults whose age least 21 also less 65. ’ll want avoid problems including children adults sample, also want focus population people US usually covered private insurance job, Medicaid insurance government, rather covered Medicare.’ll filter restrict sample adults whose age least 21 also less 65. ’ll want avoid problems including children adults sample, also want focus population people US usually covered private insurance job, Medicaid insurance government, rather covered Medicare.discussed previously, listed NHANES data frame Gender correctly referred Sex. Sex biological feature individual, Gender social construct. important distinction, ’ll change name variable.discussed previously, listed NHANES data frame Gender correctly referred Sex. Sex biological feature individual, Gender social construct. important distinction, ’ll change name variable.’ll also rename three variables, specifically ’ll use Race describe Race3 variable original NHANES data frame, well SBP refer average systolic blood pressure, specified BPSysAve, DBP refer average diastolic blood pressure, specified BPDiaAve.’ll also rename three variables, specifically ’ll use Race describe Race3 variable original NHANES data frame, well SBP refer average systolic blood pressure, specified BPSysAve, DBP refer average diastolic blood pressure, specified BPDiaAve.accomplished previous four steps, ’ll select variables want keep sample. (use select choosing variables columns data frame, filter selecting subjects rows.) sixteen variables select : ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, Pulse, PhysActive, Smoke100, SleepTrouble, MaritalStatus HealthGen.accomplished previous four steps, ’ll select variables want keep sample. (use select choosing variables columns data frame, filter selecting subjects rows.) sixteen variables select : ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, Pulse, PhysActive, Smoke100, SleepTrouble, MaritalStatus HealthGen.original NHANES data frame includes subjects (rows) multiple times effort incorporate sampling weights used NHANES analyses. purposes, though, ’d like include subject one time. use distinct() function limit data frame completely unique subjects (, example, don’t wind two rows ID number.)original NHANES data frame includes subjects (rows) multiple times effort incorporate sampling weights used NHANES analyses. purposes, though, ’d like include subject one time. use distinct() function limit data frame completely unique subjects (, example, don’t wind two rows ID number.)code used complete six steps listed create nh_temp data frame.resulting nh_temp data frame 1700 rows 16 columns.","code":"\nnh_temp <- NHANES %>%\n    filter(SurveyYr == \"2011_12\") %>%\n    filter(Age >= 21 & Age < 65) %>%\n    rename(Sex = Gender, Race = Race3, SBP = BPSysAve, DBP = BPDiaAve) %>%\n    select(ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, \n           Pulse, PhysActive, Smoke100, SleepTrouble, \n           MaritalStatus, HealthGen) %>%\n   distinct()\nnh_temp# A tibble: 1,700 x 16\n      ID Sex      Age Height Weight Race     Education   BMI\n   <int> <fct>  <int>  <dbl>  <dbl> <fct>    <fct>     <dbl>\n 1 62172 female    43   172    98.6 Black    High Sch~  33.3\n 2 62176 female    34   172.   68.7 White    College ~  23.3\n 3 62180 male      35   179.   89   White    College ~  27.9\n 4 62199 male      57   186    96.9 White    College ~  28  \n 5 62205 male      28   171.   84.8 White    College ~  28.9\n 6 62206 female    35   167.   81.5 White    Some Col~  29.1\n 7 62208 male      38   169.   63.2 Hispanic Some Col~  22.2\n 8 62209 female    62   143.   53.5 Mexican  8th Grade  26  \n 9 62220 female    31   167.  113.  Black    College ~  40.4\n10 62222 male      32   179    80.1 White    College ~  25  \n# ... with 1,690 more rows, and 8 more variables:\n#   SBP <int>, DBP <int>, Pulse <int>, PhysActive <fct>,\n#   Smoke100 <fct>, SleepTrouble <fct>,\n#   MaritalStatus <fct>, HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"sampling-nh_temp-to-obtain-our-nh_adult750-sample","chapter":"4 Data Structures and Types of Variables","heading":"4.2.2 Sampling nh_temp to obtain our nh_adult750 sample","text":"established nh_temp sampling frame, now select random sample 750 adults 1700 available responses.use set.seed() function R set random numerical seed ensure redo work, obtain sample.\nSetting seed important part able replicate work later sampling involved.\nSetting seed important part able replicate work later sampling involved.use slice_sample() function actually draw random sample, without replacement.\n“Without replacement” means ’ve selected particular subject, won’t select .\n“Without replacement” means ’ve selected particular subject, won’t select .nh_adult750 data frame now includes 750 rows (observations) 16 variables (columns). Essentially, 16 pieces information 750 adult NHANES subjects included 2011-12 panel.","code":"\nset.seed(431002) \n# use set.seed to ensure that we all get the same random sample \n\nnh_adult750 <- slice_sample(nh_temp, n = 750, replace = F) \n\nnh_adult750# A tibble: 750 x 16\n      ID Sex      Age Height Weight Race     Education   BMI\n   <int> <fct>  <int>  <dbl>  <dbl> <fct>    <fct>     <dbl>\n 1 68648 female    30   181.   67.1 White    College ~  20.4\n 2 67200 male      30   180.   86.6 White    College ~  26.7\n 3 66404 female    35   160.   71.1 White    College ~  27.8\n 4 70535 male      40   177.   82   White    College ~  26.3\n 5 65308 female    54   151.   60.6 Mexican  8th Grade  26.6\n 6 67392 male      41   171.   90.7 Hispanic College ~  31.2\n 7 63218 male      35   163.   81   Mexican  8th Grade  30.3\n 8 65879 female    32   160.   66.4 Mexican  College ~  25.9\n 9 63617 male      29   189.   83.3 White    College ~  23.2\n10 64720 male      29   174.   62.3 Black    College ~  20.6\n# ... with 740 more rows, and 8 more variables: SBP <int>,\n#   DBP <int>, Pulse <int>, PhysActive <fct>,\n#   Smoke100 <fct>, SleepTrouble <fct>,\n#   MaritalStatus <fct>, HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"summarizing-the-datas-structure","chapter":"4 Data Structures and Types of Variables","heading":"4.2.3 Summarizing the Data’s Structure","text":"can identify number rows columns data frame tibble dim function.str function provides lot information structure data frame tibble.see first observations, use head, see last , try tail…","code":"\ndim(nh_adult750)[1] 750  16\nstr(nh_adult750)tibble [750 x 16] (S3: tbl_df/tbl/data.frame)\n $ ID           : int [1:750] 68648 67200 66404 70535 65308 67392 63218 65879 63617 64720 ...\n $ Sex          : Factor w/ 2 levels \"female\",\"male\": 1 2 1 2 1 2 2 1 2 2 ...\n $ Age          : int [1:750] 30 30 35 40 54 41 35 32 29 29 ...\n $ Height       : num [1:750] 181 180 160 177 151 ...\n $ Weight       : num [1:750] 67.1 86.6 71.1 82 60.6 90.7 81 66.4 83.3 62.3 ...\n $ Race         : Factor w/ 6 levels \"Asian\",\"Black\",..: 5 5 5 5 4 3 4 4 5 2 ...\n $ Education    : Factor w/ 5 levels \"8th Grade\",\"9 - 11th Grade\",..: 5 5 5 5 1 5 1 5 5 5 ...\n $ BMI          : num [1:750] 20.4 26.7 27.8 26.3 26.6 31.2 30.3 25.9 23.2 20.6 ...\n $ SBP          : int [1:750] 103 113 116 130 130 124 128 104 105 127 ...\n $ DBP          : int [1:750] 59 68 80 79 64 82 96 70 72 60 ...\n $ Pulse        : int [1:750] 78 70 68 68 48 68 82 78 76 84 ...\n $ PhysActive   : Factor w/ 2 levels \"No\",\"Yes\": 1 2 2 1 1 2 1 2 2 2 ...\n $ Smoke100     : Factor w/ 2 levels \"No\",\"Yes\": 1 2 1 2 2 1 2 1 2 2 ...\n $ SleepTrouble : Factor w/ 2 levels \"No\",\"Yes\": 2 1 1 1 1 1 1 1 2 1 ...\n $ MaritalStatus: Factor w/ 6 levels \"Divorced\",\"LivePartner\",..: 3 4 3 3 2 3 3 3 3 2 ...\n $ HealthGen    : Factor w/ 5 levels \"Excellent\",\"Vgood\",..: 1 1 1 2 4 3 NA 1 2 4 ...\ntail(nh_adult750, 5) # shows the last five observations in the data set# A tibble: 5 x 16\n     ID Sex      Age Height Weight Race  Education      BMI\n  <int> <fct>  <int>  <dbl>  <dbl> <fct> <fct>        <dbl>\n1 63924 female    29   165.  113.  Black High School   41.9\n2 69825 female    43   164.   63.3 White College Grad  23.7\n3 68109 male      45   170.   78.7 Black High School   27.1\n4 64598 female    60   158    74.5 White Some College  29.8\n5 64048 female    54   161.   67.5 White Some College  26.2\n# ... with 8 more variables: SBP <int>, DBP <int>,\n#   Pulse <int>, PhysActive <fct>, Smoke100 <fct>,\n#   SleepTrouble <fct>, MaritalStatus <fct>,\n#   HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"what-are-the-variables","chapter":"4 Data Structures and Types of Variables","heading":"4.2.4 What are the variables?","text":"can use glimpse function get short preview data.variables collected described brief table below15.levels multi-categorical variables :Race: Mexican, Hispanic, White, Black, Asian, .Education: 8th Grade, 9 - 11th Grade, High School, College, College Grad.MaritalStatus: Married, Widowed, Divorced, Separated, NeverMarried LivePartner (living partner).HealthGen: Excellent, Vgood, Good, Fair Poor.details can obtained using summary function.Note appearance NA's (indicating missing values) columns, variables summarized list (categorical) values (counts) (quantitative/numeric) variables summarized minimum, quartiles means.","code":"\nglimpse(nh_adult750)Rows: 750\nColumns: 16\n$ ID            <int> 68648, 67200, 66404, 70535, 65308, 6~\n$ Sex           <fct> female, male, female, male, female, ~\n$ Age           <int> 30, 30, 35, 40, 54, 41, 35, 32, 29, ~\n$ Height        <dbl> 181.3, 180.2, 159.8, 176.6, 150.9, 1~\n$ Weight        <dbl> 67.1, 86.6, 71.1, 82.0, 60.6, 90.7, ~\n$ Race          <fct> White, White, White, White, Mexican,~\n$ Education     <fct> College Grad, College Grad, College ~\n$ BMI           <dbl> 20.4, 26.7, 27.8, 26.3, 26.6, 31.2, ~\n$ SBP           <int> 103, 113, 116, 130, 130, 124, 128, 1~\n$ DBP           <int> 59, 68, 80, 79, 64, 82, 96, 70, 72, ~\n$ Pulse         <int> 78, 70, 68, 68, 48, 68, 82, 78, 76, ~\n$ PhysActive    <fct> No, Yes, Yes, No, No, Yes, No, Yes, ~\n$ Smoke100      <fct> No, Yes, No, Yes, Yes, No, Yes, No, ~\n$ SleepTrouble  <fct> Yes, No, No, No, No, No, No, No, Yes~\n$ MaritalStatus <fct> Married, NeverMarried, Married, Marr~\n$ HealthGen     <fct> Excellent, Excellent, Excellent, Vgo~\nsummary(nh_adult750)       ID            Sex           Age       \n Min.   :62206   female:388   Min.   :21.00  \n 1st Qu.:64277   male  :362   1st Qu.:30.00  \n Median :66925                Median :40.00  \n Mean   :66936                Mean   :40.82  \n 3rd Qu.:69414                3rd Qu.:51.00  \n Max.   :71911                Max.   :64.00  \n                                             \n     Height          Weight             Race    \n Min.   :142.4   Min.   : 39.30   Asian   : 70  \n 1st Qu.:161.8   1st Qu.: 67.40   Black   :128  \n Median :168.9   Median : 80.00   Hispanic: 63  \n Mean   :168.9   Mean   : 83.16   Mexican : 80  \n 3rd Qu.:175.7   3rd Qu.: 95.30   White   :393  \n Max.   :200.4   Max.   :198.70   Other   : 16  \n NA's   :5       NA's   :5                      \n          Education        BMI             SBP       \n 8th Grade     : 50   Min.   :16.70   Min.   : 83.0  \n 9 - 11th Grade: 76   1st Qu.:24.20   1st Qu.:108.0  \n High School   :143   Median :27.90   Median :118.0  \n Some College  :241   Mean   :29.08   Mean   :118.8  \n College Grad  :240   3rd Qu.:32.10   3rd Qu.:127.0  \n                      Max.   :80.60   Max.   :209.0  \n                      NA's   :5       NA's   :33     \n      DBP             Pulse        PhysActive Smoke100 \n Min.   :  0.00   Min.   : 40.00   No :326    No :453  \n 1st Qu.: 66.00   1st Qu.: 66.00   Yes:424    Yes:297  \n Median : 73.00   Median : 72.00                       \n Mean   : 72.69   Mean   : 73.53                       \n 3rd Qu.: 80.00   3rd Qu.: 80.00                       \n Max.   :108.00   Max.   :124.00                       \n NA's   :33       NA's   :32                           \n SleepTrouble      MaritalStatus     HealthGen  \n No :555      Divorced    : 78   Excellent: 84  \n Yes:195      LivePartner : 70   Vgood    :197  \n              Married     :388   Good     :252  \n              NeverMarried:179   Fair     :104  \n              Separated   : 19   Poor     : 14  \n              Widowed     : 16   NA's     : 99  \n                                                "},{"path":"data-structures-and-types-of-variables.html","id":"quantitative-variables","chapter":"4 Data Structures and Types of Variables","heading":"4.3 Quantitative Variables","text":"Variables recorded numbers use numbers called quantitative. Familiar examples include incomes, heights, weights, ages, distances, times, counts. quantitative variables measurement units, tell quantitative variable measured. Without units (like miles per hour, angstroms, yen degrees Celsius) values quantitative variable meaning.little good told price something don’t know currency used.little good told price something don’t know currency used.might surprised see someone whose age 72 listed database childhood diseases find age measured months.might surprised see someone whose age 72 listed database childhood diseases find age measured months.Often just seeking units can reveal variable whose definition challenging - just measure “friendliness,” “success,” example.Often just seeking units can reveal variable whose definition challenging - just measure “friendliness,” “success,” example.Quantitative variables may also classified whether continuous can take discrete set values. Continuous data may take value, within defined range. Suppose measuring height. height really continuous, measuring stick usually lets us measure certain degree precision. measurements trustworthy nearest centimeter ruler , might describe discrete measures. always get precise ruler. measurement divisions make moving continuous concept discrete measurement usually fairly arbitrary. Another way think , enjoy music, , suggested Norman Streiner,16 piano discrete instrument, violin continuous one, enabling finer distinctions notes piano capable making. Sometimes distinction continuous discrete important, usually, ’s .\nnh_adult750 data includes several quantitative variables, specifically Age, Height, BMI,SBP,DBPandPulse`.\nknow quantitative units: Age years, Height centimeters, BMI kg/m2, BP measurements mm Hg, Pulse beats per minute.\nDepending context, likely treat discrete given measurements fairly crude (certainly true Age, measured years) although BMI probably continuous settings, even though function two measures (Height Weight) rounded integer numbers centimeters kilograms, respectively.\nQuantitative variables may also classified whether continuous can take discrete set values. Continuous data may take value, within defined range. Suppose measuring height. height really continuous, measuring stick usually lets us measure certain degree precision. measurements trustworthy nearest centimeter ruler , might describe discrete measures. always get precise ruler. measurement divisions make moving continuous concept discrete measurement usually fairly arbitrary. Another way think , enjoy music, , suggested Norman Streiner,16 piano discrete instrument, violin continuous one, enabling finer distinctions notes piano capable making. Sometimes distinction continuous discrete important, usually, ’s .nh_adult750 data includes several quantitative variables, specifically Age, Height, BMI,SBP,DBPandPulse`.know quantitative units: Age years, Height centimeters, BMI kg/m2, BP measurements mm Hg, Pulse beats per minute.Depending context, likely treat discrete given measurements fairly crude (certainly true Age, measured years) although BMI probably continuous settings, even though function two measures (Height Weight) rounded integer numbers centimeters kilograms, respectively.also possible separate quantitative variables ratio variables interval variables. interval variable equal distances values, zero point arbitrary. ratio variable equal intervals values, meaningful zero point. example, weight example ratio variable, IQ example interval variable. know zero weight . intelligence score like IQ different matter. say average IQ 100, ’s convention. just easily decided add 400 every IQ value make average 500 instead. IQ’s intervals equal, difference IQ 70 IQ 80 difference 120 130. However, IQ 100 twice high IQ 50. point zero point artificial moveable, differences numbers meaningful ratios . hand, lab test values ratio variables, physical characteristics like height weight. person weighs 100 kg twice heavy one weighs 50 kg; even convert kg pounds, still true. part, can treat analyze interval ratio variables way.\nquantitative variables nh_adult750 data can thought ratio variables.\nalso possible separate quantitative variables ratio variables interval variables. interval variable equal distances values, zero point arbitrary. ratio variable equal intervals values, meaningful zero point. example, weight example ratio variable, IQ example interval variable. know zero weight . intelligence score like IQ different matter. say average IQ 100, ’s convention. just easily decided add 400 every IQ value make average 500 instead. IQ’s intervals equal, difference IQ 70 IQ 80 difference 120 130. However, IQ 100 twice high IQ 50. point zero point artificial moveable, differences numbers meaningful ratios . hand, lab test values ratio variables, physical characteristics like height weight. person weighs 100 kg twice heavy one weighs 50 kg; even convert kg pounds, still true. part, can treat analyze interval ratio variables way.quantitative variables nh_adult750 data can thought ratio variables.Quantitative variables lend many summaries discuss, like means, quantiles, various measures spread, like standard deviation inter-quartile range. also least chance follow Normal distribution.Quantitative variables lend many summaries discuss, like means, quantiles, various measures spread, like standard deviation inter-quartile range. also least chance follow Normal distribution.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"a-look-at-bmi-body-mass-index","chapter":"4 Data Structures and Types of Variables","heading":"4.3.1 A look at BMI (Body-Mass Index)","text":"definition BMI (body-mass index) adult subjects (expressed units kg/m2) :\\[\n\\mbox{Body Mass Index} = \\frac{\\mbox{weight kg}}{(\\mbox{height meters})^2} = 703 \\times \\frac{\\mbox{weight pounds}}{(\\mbox{height inches})^2}\n\\][BMI essentially] … measure person’s thinness thickness… BMI designed use simple means classifying average sedentary (physically inactive) populations, average body composition. individuals, current value recommendations follow: BMI 18.5 25 may indicate optimal weight, BMI lower 18.5 suggests person underweight, number 25 30 may indicate person overweight, number 30 upwards suggests person obese.Wikipedia, https://en.wikipedia.org/wiki/Body_mass_index","code":""},{"path":"data-structures-and-types-of-variables.html","id":"qualitative-categorical-variables","chapter":"4 Data Structures and Types of Variables","heading":"4.4 Qualitative (Categorical) Variables","text":"Qualitative categorical variables consist names categories. names may numerical, numbers (names) simply codes identify groups categories individuals divided. Categorical variables two categories, like yes , , , generally, 1 0, called binary variables. two-categories sometimes called multi-categorical variables.categories included variable merely names, come particular order, sometimes call nominal variables. important summary variable usually table frequencies, mode becomes important single summary, mean median essentially useless.\nnh_adult750 data, Race nominal variable multiple unordered categories. MaritalStatus.\ncategories included variable merely names, come particular order, sometimes call nominal variables. important summary variable usually table frequencies, mode becomes important single summary, mean median essentially useless.nh_adult750 data, Race nominal variable multiple unordered categories. MaritalStatus.alternative categorical variable (order matters) called ordinal, includes variables sometimes thought falling right quantitative qualitative variables.\nExamples ordinal multi-categorical variables nh_adult750 data include Education HealthGen variables.\nAnswers questions like “overall physical health?” available responses Excellent, Good, Good, Fair Poor, often coded 1-5, certainly provide perceived order, group people average health status 4 (Good) necessarily twice healthy group average health status 2 (Fair).\nalternative categorical variable (order matters) called ordinal, includes variables sometimes thought falling right quantitative qualitative variables.Examples ordinal multi-categorical variables nh_adult750 data include Education HealthGen variables.Answers questions like “overall physical health?” available responses Excellent, Good, Good, Fair Poor, often coded 1-5, certainly provide perceived order, group people average health status 4 (Good) necessarily twice healthy group average health status 2 (Fair).Sometimes treat values ordinal variables sufficiently scaled permit us use quantitative approaches like means, quantiles, standard deviations summarize model results, times, ’ll treat ordinal variables nominal, tables percentages primary tools.Sometimes treat values ordinal variables sufficiently scaled permit us use quantitative approaches like means, quantiles, standard deviations summarize model results, times, ’ll treat ordinal variables nominal, tables percentages primary tools.Note binary variables may treated ordinal, nominal.\nBinary variables nh_adult750 data include Sex, PhysActive, Smoke100, SleepTrouble. can thought either ordinal nominal.\nNote binary variables may treated ordinal, nominal.Binary variables nh_adult750 data include Sex, PhysActive, Smoke100, SleepTrouble. can thought either ordinal nominal.Lots variables may treated either quantitative qualitative, depending use . instance, usually think age quantitative variable, simply use age make distinction “child” “adult” using describe categorical information. Just variable’s values numbers, don’t assume information provided quantitative.","code":""},{"path":"data-structures-and-types-of-variables.html","id":"counting-missing-values","chapter":"4 Data Structures and Types of Variables","heading":"4.5 Counting Missing Values","text":"summary() command counts number missing observations variable, sometimes want considerably information.can use functions naniar package learn useful things missing data nh_adult750 sample.miss_var_table command provides table number variables 0, 1, 2, n, missing values percentage total number variables variables make ., instance, 9 variables missing data, constitutes 56.25% 16 variables nh_adult750 data.miss_var_summary() function tabultes number, percent missings, cumulative sum missings variable data frame, order least missingness., example, rmiss_var_summary(nh_temp) %>% slice_head(n = 1) %>% select(variable)variable one missing data anything else within thenh_adult750` data frame.graph information available, well.’ll note also functions count number missing observations case (observation) rather variable. example, can use miss_case_table.Now see 636 observations, 84.8% cases missing data.can use miss_case_summary() identify cases missing data, well.","code":"\nmiss_var_table(nh_adult750)# A tibble: 5 x 3\n  n_miss_in_var n_vars pct_vars\n          <int>  <int>    <dbl>\n1             0      9    56.2 \n2             5      3    18.8 \n3            32      1     6.25\n4            33      2    12.5 \n5            99      1     6.25\nmiss_var_summary(nh_adult750)# A tibble: 16 x 3\n   variable      n_miss pct_miss\n   <chr>          <int>    <dbl>\n 1 HealthGen         99   13.2  \n 2 SBP               33    4.4  \n 3 DBP               33    4.4  \n 4 Pulse             32    4.27 \n 5 Height             5    0.667\n 6 Weight             5    0.667\n 7 BMI                5    0.667\n 8 ID                 0    0    \n 9 Sex                0    0    \n10 Age                0    0    \n11 Race               0    0    \n12 Education          0    0    \n13 PhysActive         0    0    \n14 Smoke100           0    0    \n15 SleepTrouble       0    0    \n16 MaritalStatus      0    0    \ngg_miss_var(nh_adult750)\nmiss_case_table(nh_adult750)# A tibble: 6 x 3\n  n_miss_in_case n_cases pct_cases\n           <int>   <int>     <dbl>\n1              0     636    84.8  \n2              1      78    10.4  \n3              3      15     2    \n4              4      19     2.53 \n5              6       1     0.133\n6              7       1     0.133\nmiss_case_summary(nh_adult750)# A tibble: 750 x 3\n    case n_miss pct_miss\n   <int>  <int>    <dbl>\n 1   342      7     43.8\n 2   606      6     37.5\n 3   157      4     25  \n 4   169      4     25  \n 5   204      4     25  \n 6   234      4     25  \n 7   323      4     25  \n 8   415      4     25  \n 9   478      4     25  \n10   483      4     25  \n# ... with 740 more rows"},{"path":"data-structures-and-types-of-variables.html","id":"nh_adults500cc-a-sample-of-complete-cases","chapter":"4 Data Structures and Types of Variables","heading":"4.6 nh_adults500cc: A Sample of Complete Cases","text":"wanted sample exactly 750 subjects complete data, needed add step development nh_temp sampling frame filter complete cases.Let’s check new sampling frame missing data.OK. Now, let’s create second sample, called nh_adult500cc, now, select 500 adults complete data variables interest, using different random seed. cc stands complete cases.","code":"\nnh_temp2 <- NHANES %>%\n    filter(SurveyYr == \"2011_12\") %>%\n    filter(Age >= 21 & Age < 65) %>%\n    rename(Sex = Gender, Race = Race3, SBP = BPSysAve, DBP = BPDiaAve) %>%\n    select(ID, Sex, Age, Height, Weight, Race, Education, BMI, SBP, DBP, \n           Pulse, PhysActive, Smoke100, SleepTrouble, \n           MaritalStatus, HealthGen) %>%\n    distinct() %>%\n    filter(complete.cases(.))\nmiss_var_table(nh_temp2)# A tibble: 1 x 3\n  n_miss_in_var n_vars pct_vars\n          <int>  <int>    <dbl>\n1             0     16      100\nset.seed(431003) \n# use set.seed to ensure that we all get the same random sample \n\nnh_adult500cc <- slice_sample(nh_temp2, n = 500, replace = F) \n\nnh_adult500cc# A tibble: 500 x 16\n      ID Sex      Age Height Weight Race     Education   BMI\n   <int> <fct>  <int>  <dbl>  <dbl> <fct>    <fct>     <dbl>\n 1 64079 female    25   159.   86.2 Hispanic Some Col~  34.2\n 2 64374 female    52   169    65.5 Asian    College ~  22.9\n 3 71875 male      42   182.   94.1 Black    College ~  28.5\n 4 66396 female    46   161.  107.  Asian    8th Grade  41.2\n 5 64315 female    52   161.   64.5 White    9 - 11th~  24.9\n 6 64015 male      32   168.   82.3 Mexican  Some Col~  29  \n 7 63590 male      21   181.   98.3 Black    Some Col~  29.9\n 8 70893 female    30   171.   65.7 White    9 - 11th~  22.5\n 9 70828 male      26   178.  100.  White    Some Col~  31.5\n10 67930 male      59   172.   91.7 Mexican  College ~  31  \n# ... with 490 more rows, and 8 more variables: SBP <int>,\n#   DBP <int>, Pulse <int>, PhysActive <fct>,\n#   Smoke100 <fct>, SleepTrouble <fct>,\n#   MaritalStatus <fct>, HealthGen <fct>"},{"path":"data-structures-and-types-of-variables.html","id":"saving-our-samples-in-.rds-files","chapter":"4 Data Structures and Types of Variables","heading":"4.7 Saving our Samples in .Rds files","text":"’ll save nh_adult750 nh_adult500cc samples use later parts notes. , ’ll save .Rds files, advantages us later .also find .Rds files part 431-data repository course.Next, ’ll load, explore learn variables two samples.","code":"\nsaveRDS(nh_adult750, file = \"data/nh_adult750.Rds\")\nsaveRDS(nh_adult500cc, file = \"data/nh_adult500cc.Rds\")"},{"path":"references.html","id":"references","chapter":"References","heading":"References","text":"","code":""}]
